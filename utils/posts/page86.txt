{"body":"<p>I'm working on building a range slider and I am stuck trying to use the <code>.drag</code> function.  Specifically I can't seem to get any function to run during <code>start</code> or <code>drag</code>.</p>\n<p>I have a very simple component here:</p>\n<pre><code>    &lt;g\n      className=&quot;handle1&quot;\n      transform={`translate(${xScale(value)},0)`}\n      onMouseOver={() =&gt; onMouseOver()}\n    &gt;\n      &lt;rect\n        className=&quot;valueBuble&quot;\n        x=&quot;-8&quot;\n        y=&quot;-2.5rem&quot;\n        width=&quot;1rem&quot;\n        height=&quot;1rem&quot;\n        fill=&quot;green&quot;\n      &gt;&lt;/rect&gt;\n      &lt;text\n        x=&quot;0&quot;\n        y=&quot;-1.75rem&quot;\n        width=&quot;1rem&quot;\n        height=&quot;1rem&quot;\n        fill=&quot;white&quot;\n        textAnchor=&quot;middle&quot;\n      &gt;\n        {value}\n      &lt;/text&gt;\n\n      &lt;circle r=&quot;10px&quot; fill=&quot;#fa7070&quot; /&gt;\n    &lt;/g&gt;\n</code></pre>\n<p>The entire <code>&lt;g&gt;</code> moves according to a value prop.  Now my d3 code with the <code>drag</code> function:</p>\n<pre><code>  d3.select(&quot;g.handle1&quot;)\n  .call(d3.drag().on(&quot;start&quot;, drag).on(&quot;drag&quot;, drag));\n</code></pre>\n<p>Here I attempted to call a function named <code>drag</code> however this function is not being called.  I'm testing this with a <code>console.log</code>:</p>\n<pre><code> const drag = (event, d) =&gt; {\n    console.log(event.target.value);\n  };\n</code></pre>\n<p>I am using React functional components.  Any advice on how to fix the problem.</p>\n<p>Code Pen example: <a href=\"https://codepen.io/trevordammon/pen/WNxWQRm\" rel=\"nofollow noreferrer\">https://codepen.io/trevordammon/pen/WNxWQRm</a></p>\n","userId":1,"threadId":862,"question_id":64877735,"isQuestion":true,"score":0},
{"body":"<p>I have a csv file like that:</p>\n<pre><code>id,Annee,Origine,Pax_Total\n1,2014,AJACCIO,27494\n2,2019,AJACCIO,57525\n3,2014,ANGERS,1724\n4,2019,ANGERS,4725\n...\n</code></pre>\n<p>And I want to group per Origine and have the sum of Pax_Total.\nThe aim is to create a bar chart with Chart.js.</p>\n<p>There is my code:</p>\n<pre><code>d3.csv(&quot;https://raw.githubusercontent.com/gflowiz/mapathon/master/DGAC_flux.csv&quot;)\n.then(makeChart);\n\nfunction makeChart(ville) {\n  \n  var sumPaxTotal = d3.rollups(ville, v =&gt; d3.sum(v, d =&gt; d.Pax_Total), d =&gt; d.Origine)\n  var villeOrigine =  d3.groups(ville, d =&gt; d.Origine)\n  \n  var ctx = document.getElementById('chart').getContext('2d');\n  var chart = new Chart(ctx, {\n      type: 'horizontalBar',\n      option:{\n          maintainAspectRatio: true,\n          legend: {\n              display: false\n            }\n      },\n      data: {\n        labels: villeOrigine,\n        datasets: [\n          {\n            data: sumPaxTotal,\n            backgroundColor: '#F15F36'\n          }\n        ]\n      }\n    });\nconsole.log(sumPaxTotal)\n}\n</code></pre>\n<p>Here is the console log for sumPaxTotal.</p>\n<p><img src=\"https://i.stack.imgur.com/FeFUU.png\" alt=\"\" /></p>\n<p>I think there is an &quot;array&quot; problem and after lot of research, it's not clear for me...</p>\n<p>Thanks for your help.</p>\n","userId":1,"threadId":863,"question_id":64877729,"isQuestion":true,"score":0},
{"body":"<p>I have a <code>table</code> component where I insert rows with <code>&lt;td&gt;</code> whose <code>rowspan</code> varies according to the value inserted in <code>input</code>. I would like to remove records by clicking the <kbd> Remove rows </kbd> button according to the selected <code>raddioButton</code>.</p>\n<p>Follow the code working:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>        function addLines(){\n            tabBody=document.getElementById(\"myTable\");\n            qtdRowsInput = document.getElementById(\"qtdRows\").value;\n\n            var valueRadioButton = 1;\n        for (var i = 0; i &lt; qtdRowsInput; i++) {\n            \n        \n             row=document.createElement(\"tr\");\n             \n             if(i == 0){\n                 var tdElement0 = document.createElement(\"td\");\n                 tdElement0.rowSpan = qtdRowsInput;\n             }\n             \n             var tdElement1 = document.createElement(\"td\");\n             \n             var tdElement2 = document.createElement(\"td\");\n\n             var checkbox = document.createElement('input');\n             checkbox.type = \"radio\";\n             checkbox.name = \"radioButton\";\n             checkbox.value = valueRadioButton;\n             checkbox.id = \"rdb\"+valueRadioButton;\n             \n             textnode1=document.createTextNode(qtdRowsInput);  \n             textnode2=document.createTextNode(\"A\");\n            \n             if(i == 0){\n                 tdElement0.appendChild(checkbox);\n             }\n\n             tdElement1.appendChild(textnode1);\n             tdElement2.appendChild(textnode2);\n\n             if(i == 0){\n                row.appendChild(tdElement0);\n             }\n             row.appendChild(tdElement1);\n             row.appendChild(tdElement2);\n             tabBody.appendChild(row);\n        }\n\n        valueRadioButton++;\n    }\n\n    function removeRows(){\n\n    }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>        table, th, td {\n             border: 1px solid black;\n             border-collapse: collapse;\n        }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    Rows: &lt;input type=\"number\" id=\"qtdRows\" min=\"1\"/&gt; &lt;button onclick=\"addLines();\"&gt;Add rows&lt;/button&gt; &lt;button onclick=\"removeRows();\"&gt;Remove rows&lt;/button&gt;  &lt;br&gt; &lt;br&gt;\n\n    &lt;table id=\"myTable\"&gt;\n        &lt;tr&gt;\n            &lt;th&gt; X &lt;/th&gt;\n            &lt;th&gt; Numbers&lt;/th&gt;\n            &lt;th&gt; Letters&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n","userId":1,"threadId":861,"question_id":64877741,"isQuestion":true,"score":0},
{"body":"<p>I'm working on a GPS application for agriculture purposes. I need a way to calculate with precision the distance, and difference (X, Y) between two coordinates, using latitude, longitude, and altitude (altitude is given in meters).\nThe points will be close to each other, something about 10m or less, the distance will be used in other calculations like area, and the difference (X, Y) will be used to render a 2D map.</p>\n<p>My first thought was to use the right triangle to calculate the 2D (X, Y), and again to calculate the 3D distance.</p>\n<p>Here a Script (in Javascript):</p>\n<pre><code>function xyDifference(lat1, lng1, lat2, lng2){\n        var xdif = (lng1 - lng2)/0.00000898; //value to convert decimal degrees difference to meters\n        var ydif = (lat1 - lat2)/0.00000898;\n        return [xdif,ydif];\n}\n\nfunction distanceBetween2D(lat1,lng1,lat2,lng2) {\n        var b = Math.abs(lat1 - lat2);\n        var c = Math.abs(lng1 - lng2);\n        var a = Math.sqrt(Math.pow(b,2) + Math.pow(c,2));\n        var dst = a / 0.00000898; \n        return dst;\n}\n\nfunction distanceBetween3D(lat1,lng1,alt1,lat2,lng2,alt2){\n        var dst = distanceBetween2D(lat1,lng1,lat2,lng2);\n        a = Math.abs(alt1 - alt2);\n        dst = Math.sqrt(Math.pow(dst,2) + Math.pow(a,2));\n        return dst;\n}\n\nconsole.log(distanceBetween(-24.09234566666,-52.5289494999999,588,-24.09231633333,-52.5288795,589));\n\n//It prints 8.51m\n//Using Haversine formula with these values it gives something about 7.82m\n</code></pre>\n<p>I want to know if this is a good way, or if there is a better way. I have seen the Haversine formula but I don't know how to use it with the altitudes difference, and how to get an (X,Y) difference to render the map.</p>\n","userId":1,"threadId":860,"question_id":64877775,"isQuestion":true,"score":0},
{"body":"<p>I am getting the error:</p>\n<p><strong>Uncaught DOMException: Failed to execute 'toDataURL' on 'HTMLCanvasElement': Tainted canvases may not be exported.\nat HTMLAnchorElement.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/xCWoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xCWoA.png\" alt=\"enter image description here\" /></a></p>\n<p>and I don't know why, since I added the crossOrigin = 'anonymous' to my code both in Javascript and the HTML code as per the advice below:</p>\n<p><a href=\"https://stackoverflow.com/questions/46984372/todataurl-on-htmlcanvaselement-tainted-canvases-may-not-be-exported\">&#39;toDataURL&#39; on &#39;HTMLCanvasElement&#39;: Tainted canvases may not be exported</a></p>\n<p><a href=\"https://jsfiddle.net/user2314737/q1pezv2j/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/user2314737/q1pezv2j/</a></p>\n<p>I think the situation is similar to this one:</p>\n<p><a href=\"https://stackoverflow.com/questions/58918263/tainted-canvases-may-not-be-exported-issue-still-present-after-setting-cross-o\">&quot;Tainted canvases may not be exported&quot; issue still present after setting cross-origin on S3 bucket</a></p>\n<p>Now, my code looks like this:</p>\n<pre><code>  &lt;script&gt;\n  function makeScreenshot() {\n    html2canvas(document.getElementById(&quot;screenshot&quot;), {scale: 2}).then(canvas =&gt; {\n    canvas.id = &quot;map&quot;;\n    canvas.crossOrigin = 'anonymous';\n    var main = document.getElementById(&quot;main&quot;);\n    while (main.firstChild) {\n   main.removeChild(main.firstChild); \n    }\n    console.log(main);\n    main.appendChild(canvas);\n    });\n    }\n\n    document.getElementById(&quot;a-make&quot;).addEventListener('click', function()\n   {\ndocument.getElementById(&quot;a-make&quot;).style.display = &quot;none&quot;;\nmakeScreenshot();\ndocument.getElementById(&quot;a-download&quot;).style.display = &quot;inline&quot;;\n   }, false);\n\n   document.getElementById(&quot;a-download&quot;).addEventListener('click', function()\n   {\n  this.href = document.getElementById(&quot;map&quot;).querySelector('canvas').toDataURL();\n this.download = &quot;canvas-image.png&quot;;\n }, false);\n    &lt;/script&gt;\n</code></pre>\n<p>and the HTML section:</p>\n<pre><code>     &lt;/div&gt;\n    &lt;div id=&quot;map&quot; crossorigin=&quot;anonymous&quot;&gt;\n     &lt;div id=&quot;screenshot&quot; crossorigin&gt;\n        &lt;div id=&quot;popup&quot; class=&quot;ol-popup&quot;&gt;\n            &lt;a href=&quot;#&quot; id=&quot;popup-closer&quot; class=&quot;ol-popup-closer&quot;&gt;&lt;/a&gt;\n            &lt;div id=&quot;popup-content&quot;&gt;&lt;/div&gt;\n     &lt;/div&gt;\n        &lt;/div&gt;\n     &lt;a id=&quot;a-make&quot; href=&quot;#&quot;&gt;Make a screenshot&lt;/a&gt;\n     &lt;a id=&quot;a-download&quot; href=&quot;#&quot; style=&quot;display:none;&quot;&gt;Download a screenshot&lt;/a&gt;\n     &lt;/div&gt;\n</code></pre>\n<p>The &quot;crossorigin&quot; didn't help. Is there any other solution for this?</p>\n<p>Is it related to the domain situation?</p>\n<p><a href=\"https://stackoverflow.com/questions/22710627/tainted-canvases-may-not-be-exported\">Tainted canvases may not be exported</a></p>\n<p>If the problem is CORS like here:</p>\n<p><a href=\"https://stackoverflow.com/questions/62054694/angular-8-failed-to-execute-todataurl-on-htmlcanvaselement-tainted-canvases\">Angular 8 Failed to execute &#39;toDataURL&#39; on &#39;HTMLCanvasElement&#39;: Tainted canvases may not be exported</a></p>\n<p>I use Google Chrome browser, like in the situation below:</p>\n<p><a href=\"https://stackoverflow.com/questions/38275740/chrome-tainted-canvases-may-not-be-exported-offline-only-app\">Chrome: Tainted canvases may not be exported; Offline-only app</a></p>\n<p>but the problem is, that I cannot place the data inside the , because in my case is <code>&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;</code></p>\n<p>SOme of the solutions require temporary hosting for this:</p>\n<p><a href=\"https://stackoverflow.com/questions/59114212/canvas-todataurl-tainted-canvases-may-not-be-exported\">Canvas.toDataURL() Tainted canvases may not be exported</a></p>\n<p>the CORS issues have been explained here:</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image</a></p>\n<p>but it still applies to the image  not to  situation.</p>\n<p>Basically, I need something like this:</p>\n<p><a href=\"http://jsfiddle.net/mvjuhkwq/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/mvjuhkwq/</a></p>\n<p>but the  in my case comes from another script, based in the separated file, which is linked to my code:</p>\n<pre><code>     &lt;script src=&quot;./resources/qgis2web.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>instead of placing in the container on the index.html file.</p>\n<p>I want to launch this script offline and make it useful offline only. Is it possible?</p>\n<p><strong>UPDATE:</strong></p>\n<p>I also added the <code>crossOrigin: 'anonymous'</code> to the qgis2web.js file</p>\n<pre><code> var map = new ol.Map({\n  controls: ol.control.defaults({attribution:false}).extend([\n    expandedAttribution,new ol.control.ScaleLine({}),new measureControl(),new \n  geolocateControl()\n   ]),\n   target: document.getElementById('map'),\n   renderer: 'canvas',\n   crossOrigin: 'anonymous',\n   overlays: [overlayPopup],\n   layers: layersList,\n   format: 'image/png',\n   view: new ol.View({\n     maxZoom: 22, minZoom: 17\n  })\n});\n</code></pre>\n<p>still without the result</p>\n","userId":1,"threadId":864,"question_id":64877723,"isQuestion":true,"score":0},
{"body":"<p>I've got an issue where <code>window.open</code> gets called too quickly and my other function doesn't finish and post in time in my onclick function.</p>\n<p>I tried setting a timeout on the <code>trackData()</code> but it only worked on occasion and I didn't want to set a longer timeout.</p>\n<p><strong>onClick</strong></p>\n<pre><code>   {() =&gt; {\n       trackData();\n       window.open(&quot;https:google.com&quot;, &quot;_self&quot;);\n    })\n</code></pre>\n<p>any ideas?</p>\n<p>EDIT: The following works locally but doesn't track when in production. Tracking works EVERYTIME if <code>&quot;_self&quot;</code> is being replaced with <code>&quot;_blank&quot;</code> (which it cannot be)</p>\n<pre><code>  let postData = async(value) =&gt; {\n       await tracker({\n            action: value,\n        })\n    }\n</code></pre>\n<p>tracker just makes an axios post with the action</p>\n<pre><code>   &lt;div\n       className=&quot;exampleBTN&quot;\n       onClick={() =&gt;  {\n       postData(&quot;example&quot;).then(                         \n       window.open(&quot;https://google.com&quot;, \n       &quot;_self&quot;)\n       )}\n    }\n    &gt;\n   &lt;/div&gt;\n</code></pre>\n<p>Locally, I can see the data going into the database.</p>\n<p>However, online it doesn't work. It only works if either of these are true:</p>\n<ul>\n<li>Doesn't have window.open in the onClick</li>\n<li>doesn't have &quot;_self&quot; but &quot;_blank&quot; so it opens in a new tab</li>\n</ul>\n<p>I thought my async was wrong so I also tried the following:</p>\n<pre><code> onClick={async () =&gt;  {\n await postData(&quot;example&quot;).then(                            \n window.open(&quot;google.com&quot;, &quot;_self&quot;))\n }}\n</code></pre>\n","userId":1,"threadId":865,"question_id":64877709,"isQuestion":true,"score":0},
{"body":"<p>I am struggling to generate a sales report (Line chart - weekly, monthly &amp; yearly) using 'Morris' plugin. I started with monthly sales report and I grabbed the sales data (month &amp; sales amount) from database using Ajax. The sales table only have two records and a div with unique id (chart) use to display the chart.</p>\n<p>Ajax:</p>\n<p>function loadGraphicalReport() {</p>\n<pre><code>var xhttp = new XMLHttpRequest();\nxhttp.onreadystatechange = function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n        var resp = jps(this.responseText);          \n        if(resp[&quot;success&quot;]){\n            \n            var dataChart = resp[&quot;success&quot;];\n            drawChart(dataChart);\n            \n        }else{\n            buildErrors(resp[&quot;errorList&quot;]);\n        }\n    }\n};\nxhttp.open(&quot;POST&quot;,&quot;salesReport/loadGraphicalReport&quot;, true);\nxhttp.send();\n</code></pre>\n<p>}</p>\n<p>PHP &amp; SQL :</p>\n<pre><code>public function loadGraphicalReport() {\n\n$response = new stdClass();\n\ntry{\n\n    $stmt = $this-&gt; db-&gt; prepare(&quot;SELECT MONTHNAME(invoice_date) AS month, SUM(invoice_grand_total) AS sales FROM sales GROUP BY MONTH(invoice_date);&quot;);\n\n    if ($stmt-&gt; execute()) {\n\n        $rows=array();\n        \n        while ($row=$stmt-&gt; fetch(PDO::FETCH_ASSOC)){\n            array_push($rows,$row);\n        }\n\n        $response-&gt; success = $rows;\n\n    }else{\n        $response -&gt; error = &quot;&lt;b&gt;Error :&lt;/b&gt;Couldn't executed the query&quot;;\n    }\n\n}catch(Exception $e){\n    $response -&gt; error = $e -&gt; getMessage();    \n}\n\n$JSONresponse = json_encode($response);\n \necho $JSONresponse; \n</code></pre>\n<p>}</p>\n<p>Js :</p>\n<pre><code>function drawChart(data) {\n   Morris.Line({\n    element : 'chart',\n    data : data,\n    xkey : 'month',\n    ykeys : ['sales'],\n    labels : ['Sales']\n  }); }\n</code></pre>\n<p>But, the chart does not display properly,<a href=\"https://i.stack.imgur.com/mi8p1.png\" rel=\"nofollow noreferrer\">sales chart</a></p>\n<p>In browser console 'raphael.min.js:1  Error:  attribute d: Expected number, &quot;M,0,0&quot;.' is displayed.</p>\n<p>I tried changing the 'data' to 'JSON.parse(JSON.stringify(data))', but same result.</p>\n<p>any help to display the proper report will be appreciated! Thank You.</p>\n","userId":1,"threadId":866,"question_id":64877694,"isQuestion":true,"score":0},
{"body":"<p>I have an editor dropdownlist in the grid.\nIt displays the dataTextField just fine, but when I select something and click on other columns it automatically changes to dataValueField.</p>\n<p>Currently what I'm trying to do is, when I select the AreaName then the dataValueField of AreaName passes it to other column. I've tried var text = this.text(); and this shows up as dataTextField value just fine, so I tried model.set(&quot;AreaName&quot;, text); and it becomes null.</p>\n<p>The Column that I have an editor</p>\n<pre><code>{ field: &quot;AreaName&quot;, title: &quot;Area Name&quot;, attributes: { style: &quot;cursor: pointer;&quot; }, editor: areaDropdown },\n</code></pre>\n<p>Editor Function</p>\n<pre><code>function areaDropdown(container, options) {\n        var areaReadAPI = apiURL + &quot;/Admin/s_Area/&quot;;\n        $('&lt;input required name=&quot;' + options.field + '&quot;/&gt;')\n        .appendTo(container)\n        .kendoDropDownList({\n            autoBind: false,\n            dataSource: {\n                transport: {\n                    read: {\n                        dataType: &quot;json&quot;,\n                        url: areaReadAPI + Key\n                    }\n                }\n            },\n            optionLabel: &quot;Select&quot;,\n            dataTextField: &quot;AreaText&quot;,\n            dataValueField: &quot;AreaValue&quot;,\n            change: function (e) {\n                var ddl = this;\n                var Val = this.value();\n                var text = this.text();\n                var editedRow = ddl.element.closest(&quot;tr&quot;);\n                var model = $(&quot;.locationGrid&quot;).data(&quot;kendoGrid&quot;).dataItem(editedRow);\n                model.set(&quot;AreaKeyColumn&quot;, Val);\n            }\n        });\n    }\n</code></pre>\n","userId":1,"threadId":867,"question_id":64877687,"isQuestion":true,"score":0},
{"body":"<p>I want to allow a user to input custom objects into a text area.\nIf I require them to write proper json it would look like this</p>\n<pre class=\"lang-js prettyprint-override\"><code>{ &quot;field1&quot;: 10, &quot;field2&quot;: &quot;string&quot; }\n</code></pre>\n<p>then I can simply grab the input field and do</p>\n<pre class=\"lang-js prettyprint-override\"><code>let obj = JSON.parse('{ &quot;field1&quot;: 10, &quot;field2&quot;: &quot;string&quot; }')\n</code></pre>\n<p>To make their life easier I can also allow strings of Javascript objects..</p>\n<pre class=\"lang-js prettyprint-override\"><code>{ field1: 10, field2: &quot;string&quot;, }\n</code></pre>\n<p>then I can use eval</p>\n<pre class=\"lang-js prettyprint-override\"><code>let obj\neval('obj = ' + '{ field1: 10, field2: &quot;string&quot;}')\n</code></pre>\n<p>HOWEVER eval is unsafe, a user can type something like <code>10; alert('hi')</code>;</p>\n<p>So My questions:\nIs there a way of converting a valid Javascript Object String into a valid JSON String without using <code>eval</code>?</p>\n<p>I was thinking it might be possible with one or more regex/replace operations.\nie</p>\n<pre class=\"lang-js prettyprint-override\"><code>let jsObjString =  '{ field1: 10, field2: &quot;string&quot;, }'\njsObjString = addQuotesToKeysIfMissing(jsObjString );\njsObjString  = removeTrailingCommas(jsObjString );\nconsole.log(jsObjString )\n// { &quot;field1&quot;: 10, &quot;field2&quot;: &quot;string&quot; }\nlet obj = JSON.parse(jsobjString)\n</code></pre>\n<p>Is this possible?</p>\n","userId":1,"threadId":869,"question_id":64877677,"isQuestion":true,"score":0},
{"body":"<p>I have an srt file that is over a hundred sets long. Here is an example:</p>\n<pre><code>&lt;body&gt;    \n1\n0:00:01.040 --&gt; 0:00:07.680\nHello I'm calling for Brenda Smith. \n2\n0:00:07.680 --&gt; 0:00:12.880\nThank you for requesting to close \nyour loan by phone. Is now a good time for you to\n\n3\n0:00:12.880 --&gt; 0:00:17.680\naccess the internet and sign the loan closing \ndocuments with me? \n</code></pre>\n<p>I'd like to use some javascript to be able to change the period (.) in each beginning row to a comma (,) in all the lines that have a colon (:). But I'm not sure how to do that.</p>\n<p>I know this doesn't work but I was hoping that someone might be able to help me get closer to a solution:</p>\n<pre><code>function myFunction() {\n\nif(document.body.includes(&quot;:&quot;){ // I don't know how to target each beginning line in the srt file\n\n  var str = document.body.innerHTML;\n  var res = str.replace(/\\./g, &quot;,&quot;);\n  document.body.innerHTML = res;\n\n}}\n</code></pre>\n","userId":1,"threadId":868,"question_id":64877685,"isQuestion":true,"score":0},
{"body":"<p>Im working on quiz API site. I get my data from <a href=\"https://opentdb.com/api_config.php\" rel=\"nofollow noreferrer\">https://opentdb.com/api_config.php</a> site. Instead of ' ' or &quot; &quot; my data have &amp;quot or &amp;#039. Then when I look for right answer which I do by comparing clickedElement.innerText and currentObj from data they mismatch because in data variable that I got from API I have this special chars, but in rendered HTML elements they are converted to normal characters.</p>\n<p>data[0].answer = It was Jane&amp;#039s house.</p>\n<p>clickedElement.innerText = It was Jane's house.</p>\n<p>Id like to change every single occurence of these special chars before I push them to data variable and start working with them. Here is code:</p>\n<pre><code>function getDataFromAPI() {\nfetch(getQuizSettings())\n    .then(res =&gt; res.json())\n    .then(json =&gt; {\n        changeChars(json);\n        data.push(...json.results);\n    })\n    .then(() =&gt; {\n        joinAnswers(data);\n        setId(data);\n        setInitialScore(data);\n        renderQuiz(data);\n    })\n    .catch(err =&gt; { throw err });\n</code></pre>\n<p>}</p>\n<p>In changeChars(json) Id like to do that transformation. Ive tried this:</p>\n<pre><code>function changeChars(json) {\nlet s = JSON.stringify(json)\nlet c = JSON.parse(s.replace(/&amp;quot;/gi, /&amp;#039/gi, 's', &quot;f&quot;));\n</code></pre>\n<p>}</p>\n<p>However when I console.log(c.results) nothing is changed. (I know S and C are terrible name for variables its just for testing later I ll change it of course)</p>\n","userId":1,"threadId":871,"question_id":64877614,"isQuestion":true,"score":0},
{"body":"<p>i use this code</p>\n<pre><code>&lt;script&gt;\nfunction toggle(ele) {\n    var cont = document.getElementById('PhotoHover');\n    if (cont.style.display == 'block') {\n        cont.style.display = 'none';\n\n        document.getElementById(ele.id).value = 'Show DIV';\n    }\n    else {\n        cont.style.display = 'block';\n        document.getElementById(ele.id).value = 'Hide DIV';\n    }\n}\n</code></pre>\n\n<p>with html</p>\n<pre><code>&lt;div id=&quot;WorksContainer&quot; class=&quot;clearfix&quot;&gt;\n                &lt;?php foreach ($terms as $term): ?&gt;\n                    &lt;?php\n                    $args = array(\n                        'post_type' =&gt; 'works',\n                        'work_type' =&gt; $term-&gt;name,\n                        'posts_per_page' =&gt; 4\n                    );\n                    $query = new WP_Query($args);\n                    if ($query-&gt;have_posts()):\n                    ?&gt;\n                    &lt;?php while ($query-&gt;have_posts()):$query-&gt;the_post(); ?&gt;\n                    &lt;div class=&quot;mix &lt;?php echo $term-&gt;term_id; ?&gt;&quot; data-my-order=&quot;&lt;?php the_ID(); ?&gt;&quot; style=&quot;display: inline-block;&quot;&gt;\n                                &lt;div class=&quot;Photo&quot;&gt;\n                                    &lt;?php the_post_thumbnail('img_260x230', array('class' =&gt; 'img-responsive')); ?&gt;\n                                    &lt;div class=&quot;PhotoHover&quot; id=&quot;PhotoHover&quot; style=&quot;display:none;&quot;&gt;\n                                        &lt;h1&gt;&lt;?php the_title(); ?&gt;&lt;/h1&gt;\n                                        &lt;span class=&quot;title&quot;&gt;وصف المشروع&lt;/span&gt;\n                                        &lt;span class=&quot;desworks&quot;&gt;&lt;?php echo wp_trim_words(get_the_content(), 20, '...'); ?&gt;&lt;/span&gt;\n                                        &lt;?php if (get_post_meta(get_the_ID(), 'site_url', true)): ?&gt;\n                                        &lt;a rel=&quot;noreferrer&quot; href=&quot;&lt;?php echo get_post_meta(get_the_ID(), 'site_url', true); ?&gt;&quot; title=&quot;رابط المشروع&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;&lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt;&lt;/a&gt;\n                                        &lt;?php endif; ?&gt;\n                                        &lt;a href=&quot;&lt;?php the_permalink(); ?&gt;&quot; title=&quot;تفاصيل المشروع&quot;&gt;&lt;i class=&quot;fa fa-arrow-right&quot;&gt;&lt;/i&gt;&lt;/a&gt;\n                                    &lt;/div&gt;\n                                    \n                                            &lt;input type=&quot;button&quot; class=&quot;showworks&quot; value=&quot;Show DIV&quot; id=&quot;bt&quot; onclick=&quot;toggle(this)&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;Details&quot;&gt;\n                                    &lt;div class=&quot;Icon&quot;&gt;\n                                        &lt;i class=&quot;fa fa-television our-work-icon&quot;&gt;&lt;/i&gt;\n                                    &lt;/div&gt;\n                                    &lt;p&gt;&lt;?php echo $term-&gt;name; ?&gt;&lt;/p&gt;\n                                &lt;/div&gt;\n                                &lt;div style=&quot;display:none;&quot;&gt;&lt;/div&gt;\n                        &lt;/div&gt;&lt;?php endwhile; ?&gt;\n                    &lt;?php endif; ?&gt;\n                &lt;?php endforeach; ?&gt;\n            &lt;/div&gt;\n</code></pre>\n<p>but when click on button it show only frist div in loop i want show corruct div with click</p>\n<p>like have 4 box when i click on box 4 it show box 1 text not show box 4 text</p>\n<p>i search for in here to do that but i cant found anything talk about loop php with getElementById javascript</p>\n<p>can help me</p>\n","userId":1,"threadId":870,"question_id":64877648,"isQuestion":true,"score":0},
{"body":"<p>In <a href=\"https://dmitrybaranovskiy.github.io/raphael/reference.html#Paper.path\" rel=\"nofollow noreferrer\">RaphaelJS</a>, I have a draggable line/path and would like to know the coordinates of the beginning and end points of the line after dragging and dropping it:</p>\n<p><a href=\"https://i.stack.imgur.com/s4h1Qm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s4h1Qm.png\" alt=\"enter image description here\" /></a></p>\n<p>Path/Line code:</p>\n<pre><code>var paper = new Raphael(document.getElementById('raphaelContainer'));\nlet line = paper.path(`M ${startX} ${startY} l 0 25 l 25 50 L ${endX} ${endY}`);\nline.startX = startX;\nline.startY = startY;\nline.endX = endX;\nline.endY = endY;\n\nlet start = function () {\n  this.odx = 0;\n  this.ody = 0;\n  this.animate({&quot;fill-opacity&quot;: 0.2}, 500);\n},\nmove = function (dx, dy) {\n  this.translate(dx - this.odx, dy - this.ody);\n  this.odx = dx;\n  this.ody = dy;\n},\ndrop = function () {\n    this.animate({&quot;fill-opacity&quot;: 1}, 500);\n    console.log(this);\n};\n\nline.drag(move, start, drop);\n</code></pre>\n<p>Console.logging the line on drop gives the <code>odx</code> and <code>ody</code>, but these are how far the line has moved and I'm not sure which point these coordinates refer to.</p>\n<p>I need to know the coordinates of the new drop location relative to the Raphael JS <code>paper</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/33Rhum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33Rhum.png\" alt=\"enter image description here\" /></a></p>\n","userId":1,"threadId":872,"question_id":64877585,"isQuestion":true,"score":0},
{"body":"<p>I have an <strong>err_http2_protocol_error</strong> it happends randomly.\nI have two React application I'm passing from one to other with this method</p>\n<pre><code>window.location.href = targetAppUrl + '?post=' + encodeURIComponent(parameters)\n</code></pre>\n<p>sometimes I have a <strong>blank page</strong> with err_http2_protocol_error in console and nothing other.</p>\n<p>I have attached an image of my situation.\n<strong>The length of parameters less than 1300 characters</strong>\n<a href=\"https://i.stack.imgur.com/Iunoh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iunoh.jpg\" alt=\"Blank page with err_http2_protocol_error in console\" /></a></p>\n<p>What I tried:</p>\n<ul>\n<li><p>changed &quot;homepage&quot; in package.json with right address</p>\n</li>\n<li><p>added <code>&lt;base href=&quot;address&quot; /&gt;</code> to index.html</p>\n</li>\n<li><p>changed lenght of URL params from 1380 to 70 characters</p>\n</li>\n<li><p>removed serviceWorker to evict cache problems</p>\n</li>\n<li><p>changed method of passing to next application from <code>window.location.href = ...</code> to <code>window.location = ...</code></p>\n</li>\n</ul>\n<p>I had more improvements, never had blank page but now I'm having this problem (sometimes and randomly) with some API calls.</p>\n<p>like next image in console\n<a href=\"https://i.stack.imgur.com/ES39U.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ES39U.jpg\" alt=\"API fails\" /></a></p>\n","userId":1,"threadId":874,"question_id":64877571,"isQuestion":true,"score":0},
{"body":"<p>I'm creating a modal with some thumbnails that I want to be opened in a lightbox when I click on them,\nbut when I click on a thumb I get this error</p>\n<pre><code>Uncaught TypeError: Cannot read property '0' of undefined                          ekko-lightbox.js:97\n</code></pre>\n<p>ekko-lightbox.js:97:</p>\n<pre><code>this._isBootstrap3 = $.fn.modal.Constructor.VERSION[0] == 3;\n</code></pre>\n<p>the code of my thumb:</p>\n<pre><code>&lt;div class=&quot;col-xs-6 col-md-3&quot;&gt;\n&lt;a href=&quot;https://cryptoid.com.br/wp-content/uploads/2019/07/novo-modelo-rg-verso-700x468.jpg&quot; target=&quot;_blank&quot; style=&quot;position: absolute;&quot; title=&quot;baixar&quot; class=&quot;btn btn-default btn-sm&quot;&gt;\n&lt;i class=&quot;fas fa-arrow-down&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/a&gt;\n&lt;a href=&quot;https://cryptoid.com.br/wp-content/uploads/2019/07/novo-modelo-rg-verso-700x468.jpg&quot; class=&quot;thumbnail&quot; data-toggle=&quot;lightbox&quot;&gt;\n&lt;img src=&quot;https://cryptoid.com.br/wp-content/uploads/2019/07/novo-modelo-rg-verso-700x468.jpg&quot; class=&quot;img-fluid&quot; alt=&quot;documento anexado 1&quot;&gt;\n&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Ekko lightbox calling code:</p>\n<pre><code>$(document).on('click', '[data-toggle=&quot;lightbox&quot;]', function(event) {\n     event.preventDefault(); \n     $(this).ekkoLightbox(); \n});\n</code></pre>\n<p>my modal:</p>\n<p><a href=\"https://i.stack.imgur.com/Ebeyt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ebeyt.jpg\" alt=\"enter image description here\" /></a></p>\n","userId":1,"threadId":873,"question_id":64877576,"isQuestion":true,"score":0},
{"body":"<p>Something's not working this morning and I'm pretty sure it's my brain. I've got a form that tracks changes to a field under certain conditions:</p>\n<p>-If the status = Draft, do nothing.\n-If the status = Approved, prompt user to ask if they are sure they want to make the change.\n-If they click 'OK', it should call the process that records the change.\n-If they click 'Cancel' it should do nothing.\n-If the status is anything other than draft or Approved, don't prompt but call the process that records the change.</p>\n<p>I had the code recording changes in non-draft status, but after I added the ==true to the end of the confirm statement, everything stopped working.</p>\n<pre><code>var stat = $(&quot;#status&quot;).text();\nvar params = &quot;&quot;; // just a bunch of parameters i\\'m passing to the url below;\n\nif (stat == &quot;(Draft)&quot;) {\n  //do nothing\n} else if (stat !== &quot;Approved&quot; &amp;&amp; stat !== &quot;(Draft)&quot;) {\n  var url = webDbName + &quot;/(CreateOTChangeRecordOnChange)?OpenAgent&quot; + params;\n  $.get(url, function (data) {\n    $(&quot;#tableBodyChanges&quot;).html(data);\n  });\n} else if (\n  stat == &quot;Approved&quot; &amp;&amp;\n  confirm(\n    &quot;You are changing the hours on a request that has already been approved. This will send a notification to the department director. Proceed?&quot;\n  ) == true\n) {\n  var url = webDbName + &quot;/(CreateOTChangeRecordOnChange)?OpenAgent&quot; + params;\n  $.get(url, function (data) {\n    $(&quot;#tableBodyChanges&quot;).html(data);\n  });\n} else {\n  //do nothing\n}\n</code></pre>\n","userId":1,"threadId":875,"question_id":64877547,"isQuestion":true,"score":0},
{"body":"<p>When running Karma tests, I would like to start HTTP server to do some cross-origin network requests in tests. Is there a natural way to start the server before Karma tests start and close the server when Karma exits.</p>\n","userId":1,"threadId":876,"question_id":64877507,"isQuestion":true,"score":0},
{"body":"<p>I'm trying to display a birthday reminder message on Google web app where the data is stored in google sheets.</p>\n<p><a href=\"https://i.stack.imgur.com/wRzSn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRzSn.png\" alt=\"enter image description here\" /></a></p>\n<p>The message what I'm getting on the deployed web app is --&gt; <em>It is <strong>undefined</strong> 's birthday today.</em></p>\n<p>The below is my script code</p>\n<pre><code>function main() {\n  var sheet = SpreadsheetApp.getActive().getSheetByName(&quot;Birthdays&quot;);\n  var numRows = sheet.getLastRow();\n  var range = sheet.getRange(2, 1, numRows - 1, 2).getValues();\n  for(var index in range) {\n    var row = range[index];\n    var name = row[0];\n    var birthday = row[1];\n    if(isBirthdayToday(birthday)) {\n      displayReminder(name);\n    }\n  }\n}\n\n// Check if a person’s birthday is today\nfunction isBirthdayToday(birthday) {\n  var today = new Date();\n  if((today.getDate() === birthday.getDate()) &amp;&amp;\n      (today.getMonth() === birthday.getMonth())) {\n    return true;\n  } else {\n    return false;\n    \n    console.log(today);\n  }\n}\n\n// Function to display the reminder\nfunction displayReminder(name) {\n  var message = &quot;It is &quot; + name + &quot; 's birthday today.&quot;;\n  return message;\n  console.log(displayReminder);\n}\n</code></pre>\n<p>Html</p>\n<pre><code>&lt;div&gt;\n&lt;script&gt;\n      function onSuccess(quote) {\n        var div = document.getElementById('Bday');\n        div.innerHTML =  quote;\n      }\n      google.script.run.withSuccessHandler(onSuccess)\n          .displayReminder();\n    &lt;/script&gt;\n   &lt;em&gt; &lt;p id=&quot;Bday&quot;&gt;&lt;/p&gt;&lt;/em&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Note: when I run the console log for function isBirthdayToday(birthday)I'm getting the following error.</p>\n<p><em>TypeError: Cannot read property 'getDate' of undefined (line 25, file &quot;Code&quot;)</em></p>\n<p>I couldn't figure out where I went wrong. What error has occurred?</p>\n","userId":1,"threadId":877,"question_id":64877458,"isQuestion":true,"score":0},
{"body":"<p>I have a website where users can write notes about what they read on the side. There are mathematics involved and the user will input katex format and generate katex mathematical expressions inline. This works well but this means the user saves the code GENERATED, not rendered, by KaTeX. So whenever the user re-visits his or hers notes its just a bunch of garbage, because the KaTeX is not being rendered, its the code that has been generated.</p>\n<p>How do I re-render KaTeX text?</p>\n","userId":1,"threadId":878,"question_id":64877445,"isQuestion":true,"score":0},
{"body":"<p>I am a beginnner to basic javascript and came across this syntax while looking into some open source code. I was wondering if you could clarify exactly what this meant.</p>\n<pre><code>const {genericName} = name;\n</code></pre>\n<p>I also need to know the difference of that and..</p>\n<pre><code>const genericName = name;\n</code></pre>\n","userId":1,"threadId":879,"question_id":64877400,"isQuestion":true,"score":0},
{"body":"<p>I have a Chrome extension that adds functionality to an external page over which I have no control server-side-wise. One thing that my extension can do is to extract data from the external (&quot;main&quot;) page and present it in a new <code>about:blank</code> page. It works, but I have encountered some limitations, which might or might not be due to my own limited knowledge of the Chrome Extension APIs:</p>\n<ol>\n<li><p>I can only include css and javascript to control the <code>about:blank</code> page by adding <code>&lt;styles&gt;</code> and <code>&lt;script&gt;</code> elements as literals to be added to the page code using <code>$(aboutBlankPage).append/prepend/html/etc()</code>commands from the main page script. Instead, I would like the <code>about:blank</code> page to have its own content and css scripts, just as iframes can have. But I don't know how to specify that in the <code>manifest.json</code> file. Can it be done?</p>\n</li>\n<li><p>The javascript that I include in the <code>about:blank</code> page as described above can only be vanilla. I can't find any way to include the jQuery API on the <code>about:blank</code> page. Again, is there a way?</p>\n</li>\n</ol>\n","userId":1,"threadId":880,"question_id":64877367,"isQuestion":true,"score":0},
{"body":"<p>I'm working on a map feature which should allow the user to drag rotate the map with the mouse.</p>\n<p>This is the code of my mousedown event:</p>\n<pre><code>rotate.addEventListener('mousemove', (e) =&gt; {\n    const elem = e.target;\n    if (mouseDown) {\n    const boundingRect = elem.getBoundingClientRect();\n    const center_x = boundingRect.left + boundingRect.width / 2;\n    const center_y = boundingRect.top + boundingRect.height / 2;\n    const mouse_x = e.pageX;\n    const mouse_y = e.pageY;\n    const radians = Math.atan2(mouse_x - center_x, mouse_y - center_y);\n    const degree = radians * (180 / Math.PI) * -1 + 90;\n    rotate.style.transform = `rotate(${degree}deg)`;\n  }\n});\n</code></pre>\n<p>And here is the fiddle of the example: <a href=\"https://jsfiddle.net/8uexv2cp/3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/8uexv2cp/3/</a>.</p>\n<p>So as you can see, it's kind of working. The problem is that if you start dragging in the top left corner, the element spins around (after this has happened it seems to be working as it should). Ideally I'd want it to just start rotating from the point that i select with the mouse and not having it flick around at the start.</p>\n<p>What am I missing here?</p>\n<p>I'd be happy to hear your thoughts about this.</p>\n<p>Thanks</p>\n","userId":1,"threadId":882,"question_id":64877275,"isQuestion":true,"score":0},
{"body":"<p>I want to implement a toggle on a view. It should toggle onPress. So to do that I want to set a constant to React.useRef(); but I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/D2ZAo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D2ZAo.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the part of my code that causes the error:</p>\n<pre><code>import React, { useState, useRef } from &quot;react&quot;;\n...\n\nconst transition = (\n  &lt;Transition.Together&gt;\n    &lt;Transition.In type=&quot;fade&quot; durationMs={200} /&gt;\n    &lt;Transition.Change /&gt;\n    &lt;Transition.Out type=&quot;fade&quot; durationMs={200} /&gt;\n  &lt;/Transition.Together&gt;\n);\n\nconst ref = React.useRef();\n\nclass RestaurantDetailTemplate extends React.Component {\n  orderToggle = () =&gt; {\n    if (this.props.orderToggle === true) {\n      return (\n        &lt;Transitioning.View\n          style={styles.orderToggle}\n          transition={transition}\n          ref={ref}\n        &gt;\n          &lt;Text style={{ fontSize: 20 }}&gt; Gesamtpreis&lt;/Text&gt;\n        &lt;/Transitioning.View&gt;\n      );\n    }\n  };\n\n  render() {\n    return;\n    {\n      this.orderToggle();\n    }\n  }\n}\n</code></pre>\n<p>Thanks in advance!</p>\n","userId":1,"threadId":881,"question_id":64877313,"isQuestion":true,"score":0},
{"body":"<p>I've built a system-audio setup with WebAudio in an Angular component. It works well only the bands do not seem to reflect frequency accurately.</p>\n<p>See here a test for high, mid, low tone test.</p>\n<p><a href=\"https://i.stack.imgur.com/IF1F9.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IF1F9.gif\" alt=\"inaccurate frequency representation\" /></a></p>\n<p>I've gotten pretty far with the native API, accessing a media stream etc. but as you can tell by the GIF it's not a very helpful utility...</p>\n<p>Question:\nHow would we get the most accurate frequency decibel data?</p>\n<p><strong>All</strong> sounds seem to be focused in the first 3 bands.</p>\n<p>Here is the method which visualizes the media stream (full code on <a href=\"https://github.com/BenRacicot/ng-audio\" rel=\"nofollow noreferrer\">Github</a>)</p>\n<pre><code>private frameLooper() {\n    this._AFID = requestAnimationFrame(() =&gt; this.frameLooper());\n\n    // how many values from analyser (the &quot;buffer&quot; size)\n    this._fbc = this._analyser.frequencyBinCount;\n\n    // frequency data is integers on a scale from 0 to 255\n    this._data = new Uint8Array(this._analyser.frequencyBinCount);\n    this._analyser.getByteFrequencyData(this._data);\n\n    let bandsTemp = [];\n    // calculate the height of each band element using frequency data\n    for (var i = 0; i &lt; this._fbc; i++) {\n        bandsTemp.push({ height: this._data[i] });\n    }\n    this.bands = bandsTemp;\n}\n</code></pre>\n<p>Boris Smus' <a href=\"https://webaudioapi.com/book/Web_Audio_API_Boris_Smus.pdf\" rel=\"nofollow noreferrer\">Web Audio API</a> book says:</p>\n<blockquote>\n<p>If, however, we want to perform a comprehensive analysis of the whole\naudio buffer, we should look to other methods...</p>\n</blockquote>\n<p>Perhaps this method is as good as it gets. What is a better method for more functional frequency analysis?</p>\n","userId":1,"threadId":883,"question_id":64877198,"isQuestion":true,"score":0},
{"body":"<p>I have a local array in a javascript function. I am iterating a table having selections (comboboxes). For each selection I am doing an ajax call to a C# function (in the loop). In the callback method (inner function) after receiving the result I am adding it to the local array. Then after looping through the table rows I am calling another function using the array. But this array still is empty.\nThe function with the local array is called when I change the selected item of any combobox of the table.</p>\n<p>When I am debugging it I can see that the received item of the ajax call is added to the array in the callback function. But the array still is empty when the other function is called after looping through the table.</p>\n<p>How I can get it to work so that the array is filled with the items when calling the function after looping through the table?</p>\n<p>This is the function:</p>\n<pre><code>function doCourseCheck() {\n    var errors = [];\n    var chosenSubjectTypes = []; //this is the array I want to fill\n\n    var table = document.getElementById('choiceTable');\n    var selectId = 0;\n    var subjectTypeReceived = function (result) {\n        chosenSubjectTypes.push(result); //array is filled in the callback function (inner function)\n    }\n\n\n    //looping through the table\n    for (let j = 0; j &lt; table.rows.length; j++) {\n        if (j === 0 || j === 3) {\n            continue;\n        }\n\n        var comboBox = document.getElementById('select_' + selectId); \n        var subjectName = comboBox.options[comboBox.selectedIndex].text;\n        if (subjectName !== &quot;&quot;) {\n            //in this function the ajax call is done and the result is given to the callback function\n            getSubjectType(subjectName, subjectTypeReceived);\n        }\n\n        selectId++;\n    }\n    //here the filled array should be used but it stays empty\n    checkCourseChoices(errors, chosenSubjectTypes);\n    showErrors(errors);\n}\n</code></pre>\n<p>This is the function where the ajax call is done:</p>\n<pre><code>function getSubjectType(subjectName, callback) {\n    $.ajax({\n        type: 'GET',\n        contentType: 'application/json',\n        data: { name: subjectName },\n        dataType: 'json',\n        url: &quot;/Subjects/Choose?handler=SubjectType&quot;,\n        cache: false,\n        success: function (result) {\n            callback(result);\n        }\n    });\n}\n</code></pre>\n","userId":1,"threadId":884,"question_id":64877177,"isQuestion":true,"score":0},
{"body":"<p>Let's say I have two Node.js services running inside a docker compose. Service A listens to port 4000 and service B listens to port 5000. How can I send a json message from service A to B (and vice versa) (by using Express)?</p>\n","userId":1,"threadId":885,"question_id":64877165,"isQuestion":true,"score":0},
{"body":"<p>I'm trying to create a macro that will perform certain tasks on a webpage. What I'm struggling with is to select an option from a dropdown list.</p>\n<p>This is (part of) my VBA Code:</p>\n<pre><code>Sub stackoverflow()\n\n' ***** Dims for VBA *****\nDim objIE As SHDocVw.InternetExplorer\nDim ieDoc As MSHTML.HTMLDocument\nDim testURL As String\n' ***** END ***** \n\n' ***** Dim Buttons*****\nDim StatusFld As MSHTML.HTMLInputElement\n' ***** END *****\n\ntestURL = &quot;https://test.com&quot;\n\n\n'Create Internet Explorer Object\nSet objIE = New SHDocVw.InternetExplorer\n\n'Navigate to URL\nobjIE.navigate testURL\n\n'Wait until page has loaded up\nDo Until objIE.readyState = READYSTATE_COMPLETE: Loop\n\n'Get document object\nSet ieDoc = objIE.document\nobjIE.Visible = True\n\n'***** Button IDs *****\nSet statusFld = ieDoc.all.Item(&quot;apprverStatusCode&quot;)\n'***** END *****\n\n'THIS IS THE ROW WITH THE ERROR:\nobjIE.document.getElementById(statusFld).Value = &quot;Rejected&quot;\n</code></pre>\n<p>So with the above code, I get &quot;Run time error '424' - Object required&quot;.</p>\n<p>I've also tried this, which was also not successful:</p>\n<pre><code>statusFld.Value = &quot;Rejected&quot;\n</code></pre>\n<p>This is the source code of the website:</p>\n<pre><code>&lt;select id=&quot;apprverStatusCode&quot; data-code=&quot;GROUP_STATUS&quot; data-servicecode=&quot;{&quot;preview&quot;:&quot;20501&quot;,&quot;download&quot;:&quot;20502&quot;}&quot;\n&gt;\n&lt;option value=&quot;ALL&quot;&gt;All&lt;/option&gt;\n&lt;option value=&quot;Rejected&quot;&gt;Rejected&lt;/option&gt;\n&lt;option value=&quot;Approved&quot;&gt;Approved&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Any ideas why this isn't working?</p>\n","userId":1,"threadId":887,"question_id":64877140,"isQuestion":true,"score":0},
{"body":"<p>I use Express.js &amp; Socket.io to develop chat app.</p>\n<p>At first time I create my project with Express-Generator and starts with node ./bin/www script but, I remove all the ./bin/www file and combine with app.js</p>\n<p>I use HTTPS in production Mode and use HTTP with development Mode.</p>\n<p>So I write a code like this.</p>\n<p><strong>[app.js]</strong></p>\n<pre><code>require('dotenv').config()\nconst express = require('express');\nconst path = require('path');\nconst fs = require('fs')\nconst app = express();\nlet io = require('socket.io')(app)   // I Attach (app) here!!\n\nconst https = require('https')\nconst http = require('http')\nconst PORT = process.env.PORT || 443;\nconst domain = 'example.com';\nconst option = process.env.NODE_ENV === &quot;production&quot; ? {\n    ca: fs.readFileSync('/etc/letsencrypt/live/' + domain + '/fullchain.pem'),\n    key: fs.readFileSync(path.resolve(process.cwd(), '/etc/letsencrypt/live/' + domain + '/privkey.pem'), 'utf8').toString(),\n    cert: fs.readFileSync(path.resolve(process.cwd(), '/etc/letsencrypt/live/' + domain + '/cert.pem'), 'utf8').toString(),\n  } :\n  undefined;\n\n// In Production Mode use HTTPS Server\n// In Development Mode use HTTP Server\n\n/* HTTPS Server */\noption\n  ?\n  https.createServer(option, app).listen(PORT, () =&gt; {\n    console.log(`Server is running at port ${PORT}`);\n  }) :\n  undefined;\n/* HTTP Server */\noption\n  ?\n  http\n  .createServer(function (req, res) {\n    res.writeHead(301, {\n      Location: &quot;https://&quot; + req.headers[&quot;host&quot;] + req.url\n    });\n    res.end();\n  })\n  .listen(80) :\n  http.createServer(app).listen(PORT, () =&gt; {\n    console.log(`Server is running at port ${PORT}`);\n  });\n</code></pre>\n<p>And when I run app it shows me an error like this.</p>\n<pre><code>Users\\super\\Downloads\\project\\build\\node_modules\\socket.io\\lib\\index.js:258\n    throw new Error(msg);\n    ^\n\nError: You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.\n    at Server.listen.Server.attach (C:\\Users\\super\\Downloads\\project\\build\\node_modules\\socket.io\\lib\\index.js:258:11)\n    at new Server (C:\\Users\\super\\Downloads\\project\\build\\node_modules\\socket.io\\lib\\index.js:59:17)\n    at Server (C:\\Users\\super\\Downloads\\project\\build\\node_modules\\socket.io\\lib\\index.js:44:41)\n    at Object.&lt;anonymous&gt; (C:\\Users\\super\\Downloads\\project\\build\\app.js:13:30)\n    at Module._compile (internal/modules/cjs/loader.js:1156:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1176:10)\n    at Module.load (internal/modules/cjs/loader.js:1000:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:899:14)\n    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:74:12)\n    at internal/main/run_main_module.js:18:47\nProgram node app.js exited with code 1\n</code></pre>\n<p>Error message said that it should be attach server instance,\nSo I modify my code .createServer line several time but It won't work.</p>\n<p>But When I use use another port (ex 3000) it works fine. But I want to use same port.</p>\n<p>And I put the socket Io code in same app.js.</p>\n<p>This is a part of socketio code.</p>\n<pre><code>/* Socket IO Functions */\nio.on('connection', function (socket) {\n  // Join Room Scoket\n  socket.on('JoinRoom', function (data) {\n    socket.leave(`${data.leave}`)\n    // console.log(`Leave ROOM : ${data.leave}`)\n    socket.join(`${data.joinedRoomName}`);\n    // console.log(`NEW JOIN IN ${data.joinedRoomName}`)\n    // console.log(`RECEIVER : ${data.receiver}`)\n    // When Reads the message SET notice to '1'\n    // db.query(`UPDATE chatData SET notice='1' WHERE chatReceiver=? AND roomName=?`, [data.receiver, data.joinedRoomName])\n\n    Chat.aggregate([{\n        $match: {\n          'chatReceiver': data.receiver,\n          'roomName': data.joinedRoomName,\n          'chatNotice': 1\n        }\n      },\n      {\n        $set: {\n          'chatNotice': 0\n        }\n      }\n    ], (err, result) =&gt; {\n      if (err) throw err;\n      // console.log(result);\n    })\n  })\n\n</code></pre>\n<p><strong>[Front Side Code]</strong></p>\n<pre><code>/* Global */\nlet socket = io.connect('http://127.0.0.1:3000'); // But I want to use 80 or 443 port \n</code></pre>\n<p>How can I solve this?</p>\n","userId":1,"threadId":886,"question_id":64877154,"isQuestion":true,"score":0},
{"body":"<p>I am trying to pass only one string from a page to another using react router and <strong>functional components only</strong>, so I created a button that helps me link my 2 pages, but I am unable to pass my string.\nThis is my sample code on the initial page:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Link } from \"react-router-dom\";\nimport React, { useState, Component } from \"react\";\n\nfunction FrontPageDesktop() {\n  const [myString, setMyString] = useState(\"Hello\");\n  return (\n    &lt;Link\n      to={{\n        pathname: \"/donate\",\n        myString,\n      }}\n    &gt;\n      &lt;TouchableOpacity&gt; DONATE NOW &lt;/TouchableOpacity&gt;\n    &lt;/Link&gt;\n  );\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is the code of the destination page:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function DonatePageDesktop(myProps) {\n  const { myString } = myProps.location.state;\n\n  return &lt;Text&gt;Hello{myString}&lt;/Text&gt;;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And thank you!</p>\n","userId":1,"threadId":889,"question_id":64877101,"isQuestion":true,"score":0},
{"body":"<p>I have a Form and it's working ok sending data to the Cloud Database. When the page is loaded for the first time renders the data from the database, but when this data is updated using the form, doesn't change. I don't know how to render it again. I think it's using useEffect.</p>\n<p>Here some code:</p>\n<pre><code>const user = useContext(UserContext);\nconst { userName, position, phoneUser } = user;\n \nconst initialStateValues = {\n    userName: &quot;&quot;,\n    phoneUser: &quot;&quot;,\n    position: &quot;&quot;,\n  };\n\nconst [values, setValues] = useState(initialStateValues);\n\n const handleInputChange = e =&gt; {\n    const { name, value } = e.target;\n    setValues({ ...values, [name]: value }); \n\n  };\n        \nconst handleSubmit = e =&gt; {\n     e.preventDefault();\n     setValues({ ...initialStateValues });\n    const usuario = firestore.collection('users').doc(user.uid);\n    usuario.set(\n      {\n        userName: values.userName,\n        phoneUser: values.phoneUser,\n        position: values.position,\n      },\n      { merge: true }\n    );\n\n  };\n\n  useEffect(() =&gt; {\n      \n  }, []);\n</code></pre>\n<p>And the render part here:</p>\n<pre><code>      &lt;p&gt;\n           &lt;b&gt;Contact Name:&lt;/b&gt;\n             {userName}\n      &lt;/p&gt;\n                                \n      &lt;p&gt;\n           &lt;b&gt;Phone:&lt;/b&gt;\n              {phoneUser}\n      &lt;/p&gt;     \n\n      &lt;p&gt;\n          &lt;b&gt;Posición:&lt;/b&gt;\n             {position}\n      &lt;/p&gt;    \n</code></pre>\n","userId":1,"threadId":888,"question_id":64877110,"isQuestion":true,"score":0},
{"body":"<p>Sample firebase code, not working</p>\n<p>Hello, I tried the sample code (from here : <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/get-data</a>)</p>\n<pre><code>var docRef = db.collection(&quot;cities&quot;).doc(&quot;SF&quot;);\n\ndocRef.get().then(function(doc) {\n    if (doc.exists) {\n        console.log(&quot;Document data:&quot;, doc.data());\n    } else {\n        // doc.data() will be undefined in this case\n        console.log(&quot;No such document!&quot;);\n    }\n}).catch(function(error) {\n    console.log(&quot;Error getting document:&quot;, error);\n});\n</code></pre>\n<p>Their base code, I get an error.</p>\n<p>Here is my adaptation (also has error):</p>\n<pre><code>var docRef = this.firestore.collection('Clients').doc(clientId);\ndocRef.get().then( doc =&gt;\n  {\n    let test = doc.data() as ClientModel\n    clientName = test.ClientName;\n    console.log(test);\n  });\n</code></pre>\n<p>The 'then following from docRef.get()' produces this error:</p>\n<blockquote>\n<p>Property 'then' does not exist on type 'Observable&lt;DocumentSnapshot&gt;'.ts(2339)</p>\n</blockquote>\n<p>From my research, it appears with angular I am using an observable, however, when I tried to convert to a promise it just froze.</p>\n<p>Any ideas what I am doing wrong?</p>\n","userId":1,"threadId":890,"question_id":64877036,"isQuestion":true,"score":0},
{"body":"<p>I have a JavaScript function below to hide buttons on my safari browser but I notice the button is only hidden on desktop browser and not phone browser. Is the mobile not able to read typeof safari?  How possible can I get this resolved?</p>\n<p>file.js</p>\n<pre><code>if(typeof safari !== 'undefined')\n{\n    document.getElementId('btn').style.display = 'none';\n}\n</code></pre>\n","userId":1,"threadId":891,"question_id":64877023,"isQuestion":true,"score":0},
{"body":"<p>I am trying to build a <a href=\"http://chrome://offline-internals/\" rel=\"nofollow noreferrer\">chrome://offline-internals/</a> functionality. The chrome://offline-internals/ shows among many things, the pages which are stored for offline viewing, and this feature are only available in mobile chrome browser.</p>\n<p>The page at chrome://offline-internals/ basically has a HTML page which I found using <a href=\"http://view-source:chrome://offline-internals/\" rel=\"nofollow noreferrer\">view-source:chrome://offline-internals/</a>. I the HTML a javascript is referenced (offline_internals.js), which in turn has nested javascript referenced. I downloaded all referenced javascript in my local folder since chrome doesn't allow access to chrome://resources/js for referencing js pages.</p>\n<p>After downloading, I tried to open HTML page and I got an error as below</p>\n<pre><code>cr.m.js:107 Uncaught TypeError: chrome.send is not a function\n    at sendWithPromise (cr.m.js:107)\n    at OfflineInternalsBrowserProxyImpl.getStoredPages (offline_internals_browser_proxy.js:30)\n    at refreshAll (offline_internals.js:64)\n    at HTMLDocument.initialize (offline_internals.js:248)\n</code></pre>\n<p>This basically comes in a file called <code>cr.m.js</code> in the below function</p>\n<pre><code>export function sendWithPromise(methodName, var_args) {\n  const args = Array.prototype.slice.call(arguments, 1);\n  const promiseResolver = new PromiseResolver();\n  const id = methodName + '_' + createUid();\n  chromeSendResolverMap[id] = promiseResolver;\n  chrome.send(methodName, [id].concat(args));   &lt;-- Error\n  return promiseResolver.promise;\n}\n</code></pre>\n<p>I tried to open <a href=\"http://chrome://offline-internals/\" rel=\"nofollow noreferrer\">chrome://offline-internals/</a> and set my breakpoint at the above function and that time <code>chrome.send</code> was found to be a function and when I ran my custom HTML page having same source and references, it says <code>chrome.send</code> is not a function.</p>\n<p>Probably, the <code>chrome</code> instance given to my script vis-a-vis the one given to <a href=\"http://chrome://offline-internals/\" rel=\"nofollow noreferrer\">chrome://offline-internals/</a> is a different one.</p>\n<p>What can I do to resolve this issue ?</p>\n<p><strong>P.S.:</strong> This link <a href=\"http://chrome://offline-internals/\" rel=\"nofollow noreferrer\">chrome://offline-internals/</a> will open in your mobile chrome browser only.</p>\n<p><strong>P.S.:</strong> All downloaded files are present at this path, in case you wish to see:\n<a href=\"https://easyupload.io/9x332s\" rel=\"nofollow noreferrer\">https://easyupload.io/9x332s</a></p>\n","userId":1,"threadId":892,"question_id":64876981,"isQuestion":true,"score":0},
{"body":"<p>This is from my main.js and I am trying to insert some dropdown options but where it uses multiple <code>&quot;</code> <code>&quot;</code> it is confilcting and not displaying correctly because I am trying to use JS with HTML</p>\n<p><a href=\"https://prnt.sc/vksubs\" rel=\"nofollow noreferrer\">Result of current code / problem</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var field_count = 0;\n          result1.map(function (e) {\n            if (e[1] == null) {\n              return;\n            }\n\n            if(value == 1 &amp;&amp; field_count == 3){\n              var html = '&lt;div class=\"form-group\"&gt;' + e[1] +\n                  '&lt;select  class=\"form-control\" name=\"' + e[0] + '\" id=\"' + e[0] + '\"&gt;' +\n                  '&lt;option value=\"&lt;img src=\"/img/dog.png\" alt=\"\" &lt;=\"\" td=\"\" width=\"45\" height=\"26\"&gt;\"&gt;Select Dog&lt;/option&gt;'+\n                  '&lt;option value=\"&lt;img src=\"/img/cat.png\" alt=\"\" &lt;=\"\" td=\"\" width=\"45\" height=\"26\"&gt;\"&gt;Select Cat&lt;/option&gt;'+\n                  '&lt;option value=\"&lt;img src=\"/img/fish.png\" alt=\"\" &lt;=\"\" td=\"\" width=\"45\" height=\"26\"&gt;\"&gt;Select Fish&lt;/option&gt;'+\n                  '&lt;/select&gt;' +\n                  '&lt;/div&gt;';\n            }\n            else {\n              var html = '&lt;div class=\"form-group\"&gt;' + e[1] +\n                  '&lt;input type=\"text\" value=\"\" class=\"form-control\" name=\"' + e[0] + '\" id=\"' + e[0] + '\"&gt;' +\n                  '&lt;/div&gt;';\n\n            }\n            $('#form_fields').append(html);\n            field_count++;\n          })\n\n\n          console.log('Rsult', result1);\n          div.html(op);\n\n\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n","userId":1,"threadId":893,"question_id":64876978,"isQuestion":true,"score":0},
{"body":"<p>I want to assert on the visibility of the two elements (id1 and id2), which are stacked above each other.</p>\n<pre><code>&lt;div id=&quot;main&quot; style=&quot;left: 99px; top: 1306px; visibility: visible;&quot;&gt;\n        &lt;div id=&quot;id1&quot;  style=&quot;left: 0px; top: 0px; width: 400px; height: 35px; visibility: hidden;&quot;&gt;&lt;/div&gt;&lt;!--ImageBckgrMappingSlotSelected3--&gt;\n        &lt;div id=&quot;id2&quot; style=&quot;left: 1px; top: 0px; width: 400px; height: 35px; visibility: visible;&quot;&gt;&lt;/div&gt;&lt;!--ImageBckgrMappingSlotSelecable3--&gt;\n \n</code></pre>\n<p>with the command:</p>\n<pre><code>cy.get('#id2').should('be.visible')\n</code></pre>\n<p>The assertion fails and shows the error that it is hidden by the element with #id1. But when i use:</p>\n<pre><code>cy.get('#id2').should('have.attr','style','left: 1px; top: 0px; width: 400px; height: 35px; visibility: visible;')\n</code></pre>\n<p>the assertion succeeds. Why does the first one fail?</p>\n<p>Thanks.</p>\n","userId":1,"threadId":894,"question_id":64876969,"isQuestion":true,"score":0},
{"body":"<p>I'm having a hard time finding clear documentation on how to handle this situation and what best practise is.</p>\n<p><strong>Question:</strong><br>\nHow off is my implementation and what steps should I take to fix it? Will it count as two pageviews? Do I need the second pageview?</p>\n<p><strong>Implementation</strong><br>\nI my head</p>\n<pre><code>&lt;script&gt;\n  // analytics.js\n\n  ga('create', 'UA-XXXXXXXX-XX', 'auto');\n  ga('require', 'ec');\n  ga('set', 'dimension1', 'somevalue')\n  ga('set', 'dimension2', 'somevalue')\n  ga('send', 'pageview');\n&lt;/script&gt;\n</code></pre>\n<p>on pageload in checkout</p>\n<pre><code>for (var i = 0; i &lt; cart.products.length; i++) {\n  var product = cart.products[i];\n\n  const gaProductObject = {\n    'id': product.id,\n    'name': product.name,\n    'category': product.category\n    'price': product.price,\n    'quantity': product.quantity,\n    'brand': product.brand\n  }\n  \n  ga('ec:addProduct', gaProductObject)\n}\n\nif (this.user.isAuthenticated) {\n  ga('ec:setAction', 'checkout', {\n    'step': 2,\n    'option': null\n  })\n} else {\n  ga('ec:setAction', 'checkout', {\n    'step': 1,\n    'option': null\n  })\n}\n\nga('set', 'dimension1', this.user.market)\nga('set', 'dimension2', this.user.language)\nga('send', 'event', 'checkout', 'view')\nga('send', 'pageview')\n\n\n</code></pre>\n<p>Using: GA and Enhanced Ecommerce. <br>\nSite: hybrid .NET and Vue. No Virtual Views required page do pageloads on each navigation.</p>\n<p>Thankful for feedback.</p>\n","userId":1,"threadId":895,"question_id":64876967,"isQuestion":true,"score":0},
{"body":"<p>i use vue-google-charts to draw several charts on my website. I would like that the user has the option to compare several data with each other. For this the user can add / delete data from the graph.</p>\n<p>To realize this I would like to clear the chart and draw the chart with the new data. But I don't know how to clear my chart since I dont have a reference or anything else that describes my chart(s). I implement the Charts directly in the  with GChart. How do I use clearCharts() with vue-google-charts?</p>\n<pre><code>&lt;template&gt;\n  &lt;v-card outlined tile class=&quot;text-left px-3 py-3 mx-5 text-h6&quot;&gt;\n    TEST\n    &lt;GChart type=&quot;ColumnChart&quot; :data=&quot;chartDataTest&quot; :options=&quot;chartOptionsTest&quot;/&gt;\n  &lt;/v-card&gt;\n&lt;/template&gt;\n</code></pre>\n<p>As far as I could read on the Google Charts website I need to reference to a chart (e.g. chart.clearChart()) to set the chart back but I dont have such a reference.</p>\n<p>Thanks an best regards,\nChristian</p>\n","userId":1,"threadId":896,"question_id":64876957,"isQuestion":true,"score":0},
{"body":"<p>I'm having an issue setting up phone authentication for my website. We are developing a SaaS product which provides personal websites to each customer, on our domain under a subdomain per customer schema. Each site goes <strong><em>customer1.example.com</em>, <em>customer2.example.com</em></strong> and so on, being <em><strong>example.com</strong></em> our domain.</p>\n<p>All of those subdomains are running under HTTPS, only solution we have for the moment it's to whitelist each single subdomain but that becomes very difficult when more clients are subscribing to our service. Firebase it's suppossed to whitelist every request coming from HTTPS but if we don't whitelist each subdomain we receive the <code>&quot;Hostname match not found&quot;</code> error. It's worth noting that our SSL certificates are being generated using <strong>Let's Encrypt</strong>, just mentioning if it's something that can be causing this issue.</p>\n<p>Any help will be appreciated, I'm not providing code since the authentication process works both locally and on the case when we specifically whitelist the full domain.</p>\n","userId":1,"threadId":897,"question_id":64876944,"isQuestion":true,"score":0},
{"body":"<p><strong>I hosted website on two different platforms like Firebase and Heroku</strong><br/>\n<strong>I Have some issues with that</strong><br/></p>\n<ol>\n<li>Firstly, It showing cors errors when I post data from firebase hosted URL to the server which is hosted on Heroku</li>\n<li>Then after resolving cors errors data couldn't from the server it showing undefined in console<br/>\n<strong>Here is my server-side code which is hosted on Heroku</strong></li>\n</ol>\n<pre><code>const express = require('express')\nconst path = require('path')\nconst PORT = process.env.PORT || 3000\nconst app = express()\nconst bodyParser = require('body-parser')\napp.use(bodyParser.urlencoded({extended:false}))\napp.use(bodyParser.json())\n\napp.use(express.json({limit:'1mb'}))\n\napp.use(function (req, res, next) {\n\nres.header('Access-Control-Allow-Origin', 'https://sample-377b8.web.app');\nres.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\nres.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With,content-type,Accept,Authorization',);\nres.header('Access-Control-Allow-Credentials', true);\nif(req.method==&quot;OPTIONS&quot;){\n  res.header('Access-Control-Allow-Methods','PUT,POST,DELETE,PATCH')\n  return res.status(200).json({})\n}\n// Pass to next layer of middleware\nnext();\n});\nlet data;\napp.get('/',(req,res)=&gt;{\nres.send(&quot;hello world&quot;)\n}) \napp.post('/',(req,res)=&gt;{\n \n  data = req.body\n console.log(data)\n res.status(200).json({\n  &quot;success&quot;:&quot;200 response&quot;,\n  &quot;res&quot;:&quot;You are now just talked with server&quot; \n })\n\n})\n\n\napp.listen(PORT, () =&gt; console.log(`Listening on ${ PORT }`))\n\n</code></pre>\n<p><strong>This is my client side code</strong></p>\n<pre><code>document.getElementById('send').addEventListener('click',async()=&gt;{\n           let data = {lat,lon}\n            await fetch('https://demoserver-app.herokuapp.com/',{mode:&quot;no-cors&quot;},{\n            method: 'POST', // or 'PUT'\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify(data),\n           }).then( async (dat) =&gt;{\n             console.log(res.json())\n           }).then(res =&gt;{\n               console.log(res)\n           })\n       })\n</code></pre>\n<p>It is giving the error on a console like\n<a href=\"https://i.stack.imgur.com/qy3WJ.jpg\" rel=\"nofollow noreferrer\">console error</a> image</p>\n<p>Headers information in the network tab\n<a href=\"https://i.stack.imgur.com/rJ1gb.jpg\" rel=\"nofollow noreferrer\">Header information of request</a> image</p>\n","userId":1,"threadId":898,"question_id":64876924,"isQuestion":true,"score":0},
{"body":"<p>For sending the DM Message, i use:</p>\n<pre class=\"lang-js prettyprint-override\"><code>bot.on('guildMemberAdd', (member) =&gt; {\n    member.send('a');\n});\n</code></pre>\n<p>I cannot understand what is wrong with this code so that the private message that should be sent is not being sent. Help-me, please!</p>\n","userId":1,"threadId":899,"question_id":64876872,"isQuestion":true,"score":0},
{"body":"<p>i am trying to do something like canva.com, where you can select images from the sidebar and drop them anywhere in the &quot;div&quot;, so you have the capability to drop many images and each image  have its own position.The point is that when i try to use <strong>setState(prevState=&gt;{return [...prevState,{src:...,postitionX:...,positionY:...}]})</strong> This render an img per each pixel while moving the mouse.\n<a href=\"https://i.stack.imgur.com/TO8pE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TO8pE.png\" alt=\"enter image description here\" /></a></p>\n<p>So the problem is when i drag over i have a function that set the position of the mouse, so when the position is changed, useEffect re-render and run the internal function, my goal is to set an object(img) with all the properties of the current img and when i drag over and drop another one, each img has it own position in the drop zone.</p>\n<pre><code>import React, {useState,useEffect} from 'react'\nimport Img from &quot;./img-card&quot;\n \nconst  DropImg=()=&gt;{\n  //this state is for getImg, with this i save all the images of the input file (sidebar)\n  const [img,setImg]=useState([])\n  //this state is for the image shown in the editor\n  const[imgDrag,setImgDrag]=useState([])\n  //this saves the position of the element currently dragged,then it is passed to the state  that has al the objects that contain all the images with its own data and properties.\n  const[position,setPosition]=useState({x:0,y:0})\n  //this state is for getting the src of the img that is been dragged in the drag zone\n  const [imgSelected,setImageSelected]=useState()\n\n  const getImg=(e)=&gt;{\n    let img=e.target.files\n    for(let i=0;i&lt;img.length;i++){\n      setImg((prevState)=&gt;{return  ( img? [...prevState,URL.createObjectURL(img[i])] : [...prevState]) })\n    }\n  }\n\n const dragOver=(e)=&gt;{\n    e.preventDefault()\n    //clientX and clientY are mouse events that show the position of the pointer\n    let xPosition=e.clientX\n    let yPosition=e.clientY\n    //set the positions to later send the data to the imgDrag that has all the data about the images\n    setPosition(()=&gt;{return {[&quot;x&quot;]:xPosition,[&quot;y&quot;]:yPosition}})\n  }\n  \n\n  \n  useEffect(()=&gt;{\n    setImgDrag( (prevState)=&gt;{ return [...prevState, {src:imgSelected, x:position.x, y:position.y,...prevState}]})\n  },[position])\n \n  function drop(e){\n    e.preventDefault();\n  }\n  \n  const dragStart=e=&gt;{\n    setImageSelected(e.target.src)\n  }\n\n  return (\n  &lt;div className=&quot;flex bg-gray-400&quot;&gt;\n    &lt;div className=&quot; bg-gray-800 w-1/4 rem-width-25 px-5 pt-6 h-screen&quot;&gt;\n      &lt;div className=&quot;block&quot;&gt;\n        &lt;div className=&quot;relative bg-teal-500 border rounded  py-12 m-auto text-center  w-11/12   text-white &quot;&gt;\n          &lt;input type=&quot;file&quot;  id=&quot;img&quot; className=&quot;absolute top-0  m-auto left-0 cursor-pointer bg-gray-200 border border-gray-300 mb-3 outline-none py-10 px-5 rounded shadow-sm opacity-0&quot; multiple onChange={getImg} /&gt;\n          Click Here  Or Drop An Image \n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div className=&quot;grid w-full  grid-cols-3 gap-2 mt-10&quot;&gt;\n        {(img? img.map((src,index)=&gt;{return &lt;Img key={index} id={index} draggable=&quot;true&quot; onDragStart={dragStart} src={src}/&gt;}):null)}\n      &lt;/div&gt;\n    &lt;/div&gt;\n        &lt;div onDrop={drop} onDragOver={dragOver}  className=&quot;w-9/12 h-screen relative&quot;&gt;\n          {imgDrag? imgDrag.map((data)=&gt;{return &lt;Img  src={data.src} style={{width:450,position: 'absolute',top:data.y-400,left:data.x-600}}/&gt;}): null} \n          {img? null:&lt;p id=&quot;drop-here&quot; className=&quot;text-center&quot;&gt;Drop Image Here!&lt;/p&gt;}\n        &lt;/div&gt;\n  &lt;/div&gt;)\n}\nexport default DropImg\n</code></pre>\n","userId":1,"threadId":900,"question_id":64876861,"isQuestion":true,"score":0},
{"body":"<p>I am trying to catch an error so that if someone enters an invalid location a message will appear to tell the user the location is invalid. Could someone help me please? Thanks</p>\n<pre><code>const enquiryRef = document.querySelector('#enquiry');\nconst areaRef = document.querySelector('#area');\nconst dateRef = document.querySelector ('#day');\nconst weatherRef = document.querySelector ('#conditions');\nconst tempRef = document.querySelector ('#temperature');\nconst tempDiffRef = document.querySelector ('#temperature-difference');\nconst searchRef = document.querySelector ('#searchBtn')\nconst api = {\n  key: '03e844bff36a172614ecb788fd7c7fd8',\n  base: 'https://api.openweathermap.org/data/2.5/',\n};\n\n\nenquiryRef.addEventListener('keypress', checkIfEnter);\nsearchRef.addEventListener('click', checkIfEnter);\n\n\nfunction checkIfEnter(event){\n  if(event.keyCode === 13 || event.type == 'click') {\n    getResults(enquiryRef.value);\n  }\n}\n\n\nfunction getResults(city){\n  fetch(`${api.base}weather?q=${city}&amp;units=metric&amp;APPID=${api.key}`)\n    .then((response) =&gt; response.json()) \n    .then((weatherData) =&gt; {\n    displayResults(weatherData);\n    });\n}\n\nfunction displayResults(weather) {\n  areaRef.innerText = `${weather.name}, ${weather.sys.country}`;\n  const dateToday = new Date();\n  dateRef.innerText = dateToday.toDateString();\n  tempRef.innerHTML = `${Math.round(weather.main.temp)}&lt;span&gt;°c&lt;/span&gt;`;\n  weatherRef.innerText = weather.weather[0].main;\n  tempDiffRef.innerText = `${Math.round(weather.main.temp_min)}°c / ${Math.round(weather.main.temp_max)}°c`;\n}\n\n</code></pre>\n","userId":1,"threadId":901,"question_id":64876784,"isQuestion":true,"score":0},
{"body":"<p>So I have made a kind of static website with HTML-CSS-Javascript. I have followed the tutorial to use index.php to call index.html so I can deploy my website via Github.com.</p>\n<p>Now, the website uses Twitter API from the codebird.js where there are these lines in my JS file:</p>\n<pre><code>cb.setConsumerKey(consumerKey, consumerSecret);\ncb.setToken(token, tokenSecret);\n</code></pre>\n<p>I separate the keys and tokens already in a different config.js to hide my keys and tokens on Github. I want to deploy my web somewhere and I read the document from Heroku and I know they have Config Var options right on the site but, as a newbie programmer I can't figure out how to apply those into my javascript. I see the documentation mainly talks about Node.js and others. It seems like they code and deploy through the terminal, which is not how I wrote my code and I don't know how to work like that.</p>\n<p>Anyway, I have tried this:</p>\n<pre><code>&lt;?php include_once(&quot;index.html&quot;);\n$consumerKey = getenv('Key');\n?&gt;\n</code></pre>\n<p>in my index.php file, which I know I got the value correctly. But...\nHow can javascript access this Config Var of Heroku from now? I can't make anything work!</p>\n<hr />\n<p>UPDATE*\nI have successfully got varaibles from Heroku through my PHP file and pass it to Javascript from this tutorial&gt;&gt; <a href=\"https://stackify.com/how-to-log-to-console-in-php/\" rel=\"nofollow noreferrer\">https://stackify.com/how-to-log-to-console-in-php/</a></p>\n<p>This is how I do it in the PHP file:</p>\n<pre><code>&lt;?php\nfunction console_log($output, $with_script_tags = true) {\n    $js_code = 'console.log(' . json_encode($output, JSON_HEX_TAG) .\n');';\n    if ($with_script_tags) {\n        $js_code = '&lt;script&gt;' . $js_code . '&lt;/script&gt;';\n    }\n    echo $js_code;\n}?&gt;\n\n&lt;?php\ninclude_once(&quot;index.html&quot;);\n$consumerKey = getenv('Key');\n ?&gt;\n\n&lt;script&gt;\nvar myConKey = &lt;?= json_encode($consumerKey,\n    JSON_HEX_TAG); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n<p>Then I call myConKey from the JavaScript file.</p>\n<p>!!! but I can see that the keys and tokens are still exposed to the public when looking into the &quot;Source&quot; of the console dashboard!!! It littarally writes down the key out in the (index) file. Is there any other way to hide this? Can I call the assign the keys and token inside PHP and somehow pass it JS?</p>\n","userId":1,"threadId":903,"question_id":64876769,"isQuestion":true,"score":0},
{"body":"<p>I have a problem with CSSTranstion for react. I am using this to animate mobile menu for my small app. All was working good before i decided to add react-transition-group pack, where I am usin <code>&lt;CSSTransition /&gt;</code></p>\n<p>I have my navbar elemnt</p>\n<pre><code>render() {\n    const { navItems, isOpen } = this.state;\n    return (\n      &lt;Fragment&gt;\n        &lt;NavBar navLinks={navItems} /&gt;\n        &lt;button onClick={this.openDrawer} className='Navigation-btn'&gt;\n          &lt;span /&gt;\n          &lt;span /&gt;\n          &lt;span /&gt;\n        &lt;/button&gt;\n        {isOpen &amp;&amp; &lt;BackDrop onClick={this.closeDrawer} /&gt;}\n        &lt;SideDrawer onClick={this.closeDrawer} show={isOpen}&gt;\n          &lt;MobileNav navLinks={navItems} /&gt;\n        &lt;/SideDrawer&gt;\n      &lt;/Fragment&gt;\n    );\n  }\n\n</code></pre>\n<p>This is calss component where i have my navLinks items. I am passing those to my functional components. One is <code>MobileNav</code></p>\n<pre><code>&lt;nav className='Navigation__Mobile'&gt;\n      &lt;ul&gt;\n        {navLinks.map((link) =&gt; {\n          return (\n            &lt;li key={link.id}&gt;\n              &lt;NavLink\n                exact\n                key={link.id}\n                to={link.to}\n                className={link.className}&gt;\n                {link.name}\n              &lt;/NavLink&gt;\n            &lt;/li&gt;\n          );\n        })}\n      &lt;/ul&gt;\n    &lt;/nav&gt;\n</code></pre>\n<p>Here I am rendering my navLinks items. Nothing super fancy here.\nI am using SideDrawer component, where I am &quot;keepieng&quot; my mobile navigation and where I am using <code>CSSTransition</code>.</p>\n<pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './SideDrawer.scss';\n\nconst SideDrawer = ({ children, show, onClick }) =&gt; {\n  const content = (\n    &lt;CSSTransition\n      in={show}\n      timeout={200}\n      classNames='slide-in-right'\n      mountOnEnter\n      unmountOnExit&gt;\n      &lt;aside onClick={onClick} className='SideDrawer'&gt;\n        {children}\n      &lt;/aside&gt;\n      ;\n    &lt;/CSSTransition&gt;\n  );\n\n  return ReactDOM.createPortal(\n    content,\n    document.getElementById('drawer-portal')\n  );\n};\n\nSideDrawer.propTypes = {\n  children: PropTypes.node,\n  show: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default SideDrawer;\n</code></pre>\n<p>I have to errors here:</p>\n<ol>\n<li><code>Failed prop type: Invalid prop `children` supplied to `Transition`</code></li>\n<li><code>React.Children.only expected to receive a single React element child.</code></li>\n</ol>\n<p>I am digging this from some time, but bothing is working. I think I am returning one elemet, as <code>childern</code> prop was working okay before adding <code>CSSTransition</code></p>\n","userId":1,"threadId":902,"question_id":64876776,"isQuestion":true,"score":0},
{"body":"<p>I have been scratching my head over this for the past three hours, if anyone can help, please do. I am not very adept at D3 in combination with React.</p>\n<p>So, basically, I have an anomaly detector algorithm running in the backend Flask App which returns values in form of a dictionary (then converted to json object via json.dumps()) that will, further, be plotted on my React app using D3.</p>\n<p>Initially, I thought the problem was with my Database because the app was working perfectly on codesandbox and in all my prior versions.</p>\n<p>This is what the console.log(data) looks like :\n<a href=\"https://i.stack.imgur.com/vzsni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vzsni.png\" alt=\"enter image description here\" /></a></p>\n<p>I was told that a problem could be with the varying data points for A_Epoch(3) and Time_Epoch(151). Having resolved that didn't help either.</p>\n<p>This is what the code looks like:</p>\n<pre><code>const timeDomain = d3.extent(data, d=&gt;(d.Time_Epoch*1000));\nconst bytesReadDomain = d3.extent(data, (d) =&gt; d.Bytes_Read);\nconst bytesWriteDomain = d3.extent(data, (d) =&gt; d.Bytes_Write);\nconst bytesSentDomain = d3.extent(data, (d) =&gt; d.Bytes_Sent);\nconst bytesRecvDomain = d3.extent(data, (d) =&gt; d.Bytes_Recv);\n</code></pre>\n<p>This part is throwing error.</p>\n","userId":1,"threadId":904,"question_id":64876696,"isQuestion":true,"score":0},
{"body":"<p>I have a JS SPA (Single page application) with React.\nOf course, I use webpack, babel and build my project.\nThe prod version has minimized JS code and I deploy it.\nBut the problem that minimized version has a terrible error stack.\nI'm able to store sourcemaps on my server, but I have a problem:\nHow to parse minimized error stack using sourcemaps?</p>\n<p>I found the lib (retrace) which allow to do it, but it takes current js file from the prod server (I mean that it go to your site and takes bundle.min.js). And after that, it parses it using sourcemaps which I can store on the server.</p>\n<p>This way does not work when you try to parse old error stacks when the versions had changed.</p>\n<p>So the questions: how to parse errors stacktrace on the server side using sourcemaps?</p>\n","userId":1,"threadId":905,"question_id":64876694,"isQuestion":true,"score":0},
{"body":"<p>According to <strong>scope chain</strong> inner functions can access to outer functions, but at the same time we are accessing outer function through <strong>closure</strong>, then what is difference? Can anyone explain differences between scope chain and closure? My version is that scope chain is just a rule and closure is explanation of how this rule works.</p>\n<p>Question is about differences between Scoping and Closure</p>\n<pre><code>function outer() {\n  a = 10;\n   function inner() {\n    b = 10;\n    console.log(a + b);\n  };\n  return inner()\n}\n\nconsole.log(outer());  //logs: 20\n</code></pre>\n","userId":1,"threadId":906,"question_id":64876579,"isQuestion":true,"score":0},
{"body":"<p>I have two collections in my Mongo DB which looks like this:</p>\n<p><strong>Documents</strong></p>\n<p>User:</p>\n<pre><code>id: ObjectId (&quot;5fb39e3d11eaad3e30cfb1b0&quot;)\nuserName: &quot;Tobias&quot;\npassword: &quot;yyy&quot;\n\nid: ObjectId (&quot;5fb3c83fb774ff3340482250&quot;)\nuserName: &quot;Thor&quot;\npassword: &quot;xxx&quot;\n</code></pre>\n<p>Courses:</p>\n<pre><code>id: ObjectId (&quot;5fb3cf3da8227e101826e2db&quot;)\nCourseName: &quot;Design&quot;\nuserId: &quot;5fb39e3d11eaad3e30cfb1b0&quot; (THIS IS THE SAME AS THE OBJECT ID FOR THE FIRST USER) \n</code></pre>\n<p>When a user is logging in, the user can add a course and the object ID for the logging in user will be added to the collection in MongoDB along with the coursename (just as in the example above).</p>\n<p>My question is, how do I show only the courses which matches the user which are logged in? I'm using mongoose for user-login, express for server conn, ejs for view, and VueJS for control.</p>\n<p>I'm comming from relationel databases, so not sure if the approch i'm trying out here with joining the objectID's is good practice.</p>\n","userId":1,"threadId":907,"question_id":64876568,"isQuestion":true,"score":0},
{"body":"<p>I am using angular-js 1.6 and got the following error in chrome, does anyone know what might cause this issue ?</p>\n<pre><code>VM299:5 Uncaught TypeError: require.undef is not a function\n    at &lt;anonymous&gt;:5:17\n    at c (vendor.50caeafe7f2b12f7.js:19)\n    at J (vendor.50caeafe7f2b12f7.js:19)\n    at ya.fn.init.append (vendor.50caeafe7f2b12f7.js:30)\n    at ya.fn.init.&lt;anonymous&gt; (vendor.50caeafe7f2b12f7.js:30)\n    at Ma (vendor.50caeafe7f2b12f7.js:29)\n    at ya.fn.init.html (vendor.50caeafe7f2b12f7.js:30)\n    at result.controller.js:484\n    at J (result.controller.js:461)\n    at q (result.controller.js:482)\n</code></pre>\n","userId":1,"threadId":908,"question_id":64876566,"isQuestion":true,"score":0},
{"body":"<p>I have written a code for a doughnut chart below:-</p>\n<pre><code>\n      &lt;div class=&quot;container panel-body&quot;&gt;\n        &lt;canvas id=&quot;myChart&quot;&gt;&lt;/canvas&gt;\n      &lt;/div&gt;\n\n\n    &lt;script&gt;\n      let myChart = document.getElementById(&quot;myChart&quot;).getContext(&quot;2d&quot;);\n\n      let massPopChart = new Chart(myChart, {\n        type: &quot;doughnut&quot;, // bar, horizontalBar, pie, line, doughnut, radar, polarArea\n        data: {\n          labels: [\n           &quot;Students&quot;,\n           &quot;Instructor&quot;,\n           &quot;Admins&quot;\n         ],\n          datasets: [\n            {\n              data: [60, 30, 10],\n              backgroundColor:['#1F78B4','#A6CEE3','#B2DF8A'],\n              borderWidth: 0,\n            },\n          ],\n        },\n        options: {\n          legend: {\n                        display: false,\n                    },\n          layout: {\n            padding: {\n              left: 200,\n              right: 800,\n              bottom: 300,\n              top: 0,\n            },\n          },\n          cutoutPercentage: 85,\n          \n        }\n      });\n    \n      Chart.pluginService.register({\n  beforeDraw: function(chart) {\n    var width = chart.chart.width,\n        height = chart.chart.height,\n        ctx = chart.chart.ctx;\n\n    ctx.restore();\n    var fontSize = 3;\n    ctx.font = fontSize + &quot;em sans-serif&quot;;\n    ctx.textBaseline = &quot;middle&quot;;\n\n    var text = &quot;75%&quot;,\n        textX = 235,\n        textY = 430;\n\n    ctx.fillText(text, textX, textY);\n    ctx.save();\n  }\n});\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>Everything is fine with this chart but I need to show the labels just outside the chart like in the image below:-\n<a href=\"https://i.stack.imgur.com/CNGlj.png\" rel=\"nofollow noreferrer\">example image</a>.</p>\n<p>I have tried using the legend and arranging its position but it didn't help. I need to show the label of the chart at the outer line of the chart.\nHow can I do that?</p>\n<p>Js fiddle: <a href=\"https://jsfiddle.net/1aedfpt5/15/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/1aedfpt5/15/</a></p>\n","userId":1,"threadId":909,"question_id":64876522,"isQuestion":true,"score":0},
{"body":"<p>I'm struggling with this simple <code>if</code> statement. I'm trying to search for &quot;some string&quot; within document <code>body</code> and if found do some stuff.</p>\n<p>HTML</p>\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;h1&gt;search for some string&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>JS:</p>\n<pre><code>if (document.body.indexOf(&quot;some string&quot;) &gt; -1) {\n// do stuff\n}\n</code></pre>\n<p>But console returns: Cannot read property 'indexOf' of null.</p>\n","userId":1,"threadId":910,"question_id":64876490,"isQuestion":true,"score":0},
{"body":"<p>I do not know how to implement a method in which when using the updateProfile () function, it checks the firestore if such mail already exists and then an error would pop up. I did a test method in MyAccount.vue, but it doesn't work, if I don't type anything and click, nothing updates, but that's not the point, I would like it to check if such mail exists.</p>\n<p>./src/views/MyAccount.vue</p>\n<pre><code>import { mapState } from 'vuex';\n\nexport default {\n    data() {\n        return {\n            user: {\n                username: '',\n                email: '',\n                password: ''\n            }\n        };\n    },\n\n    computed: {\n        ...mapState(['userProfile']),\n    },\n\n    methods: {\n        updateProfile() {\n            this.$store.dispatch('updateProfile', {\n                username:\n                    this.user.username !== ''\n                        ? this.user.username\n                        : this.userProfile.username,\n                email:\n                    this.user.email !== ''\n                        ? this.user.email\n                        : this.userProfile.email,\n                password:\n                    this.user.password !== ''\n                        ? this.user.password\n                        : this.userProfile.password\n            });\n\n            this.user.username = '';\n            this.user.email = '';\n            this.user.password = '';\n\n            this.showSuccess = true;\n\n            setTimeout(() =&gt; {\n                this.showSuccess = false;\n            }, 2000);\n        }\n    }\n};\n&lt;/script&gt;\n</code></pre>\n<p>./src/store/index.js</p>\n<pre><code>import Vue from 'vue';\nimport Vuex from 'vuex';\nimport * as fb from '../firebase';\nimport router from '../router/index';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n    state: {\n        userProfile: {},\n        notes: []\n    },\n\n    mutations: {\n        setUserProfile(state, val) {\n            state.userProfile = val;\n        },\n\n        setNotes(state, val) {\n            state.notes = val;\n        }\n    },\n\n    actions: {\n        async updateProfile({ commit, dispatch }, user) {\n            const userId = fb.auth.currentUser.uid;\n\n            await fb.usersCollection.doc(userId).update({\n                username: user.username,\n                email: user.email,\n                password: user.password\n            });\n\n            dispatch('fetchUserProfile', { uid: userId });\n        },\n\n        async fetchUserProfile({ commit }, user) {\n            // fetch user profile\n            const userProfile = await fb.usersCollection.doc(user.uid).get();\n\n            // set user profile in state\n            commit('setUserProfile', userProfile.data());\n\n            // change router to dashboard\n            if (router.currentRoute.path === '/login') {\n                router.push('/');\n            }\n        }\n    },\n    modules: {}\n});\n\nexport default store;\n</code></pre>\n","userId":1,"threadId":911,"question_id":64876487,"isQuestion":true,"score":0},
{"body":"<p>I have been trying to implement refresh token in my project. Here is my code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    const user: any = this.storage.user;\n    const addToken = !req.urlWithParams.includes('token');\n    const token = user ? user.token : null;\n\n    if (token &amp;&amp; !req.url.includes('token=') &amp;&amp; addToken) {\n        req = this.addToken(req, user.token);\n    }\n\n   return next.handle(req).pipe(switchMap((event) =&gt; {\n          if (event instanceof HttpResponse &amp;&amp; event.body.code === 401 &amp;&amp; token) {\n              return this.handle401Error(req, next);\n          }\n          return next.handle(req);\n      }));\n}\n\n\nprivate addToken(request: HttpRequest&lt;any&gt;, token: string) {\n    return request.clone({\n      setHeaders: {\n        Authorization: `Bearer ${token}`,\n      },\n      setParams: {\n        token\n      }\n    });\n}\n\n\nprivate handle401Error(request: HttpRequest&lt;any&gt;, next: HttpHandler) {\n  if (!this.isRefreshing) {\n    this.isRefreshing = true;\n    this.refreshTokenSubject.next(null);\n\n    return this.jwtService.getRefreshedJWT().pipe(\n      switchMap((res: any) =&gt; {\n        this.isRefreshing = false;\n        this.refreshTokenSubject.next(res.token);\n        return next.handle(this.addToken(request, res.token));\n      }));\n\n  } else {\n    return this.refreshTokenSubject.pipe(\n      filter(token =&gt; token != null),\n      take(1),\n      switchMap(jwt =&gt; {\n        return next.handle(this.addToken(request, jwt));\n      }));\n  }\n}\n\n\ngetRefreshedJWT() {\n  const jwt_refresh_url = 'api/v3/token/refresh?token=' + this.storage.user.token;\n  \n  return this.http.getFromAccountsApi(jwt_refresh_url)\n      .pipe(tap((token) =&gt; {\n      this.storeJwtToken(token);\n  }));\n}\n\n\nprivate storeJwtToken(jwt: string) {\n  const user = this.storage.user;\n  user.token = jwt;\n  this.storage.user = user;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I am getting this error right now</p>\n<p>TS2322: Type 'Observable&lt;Observable&lt;HttpEvent&gt;&gt;' is not assignable to type 'Observable&lt;HttpEvent&gt;'.   Type 'Observable&lt;HttpEvent&gt;' is not assignable to type 'HttpEvent'.     Property 'type' is missing in type 'Observable&lt;HttpEvent&gt;' but required in type 'HttpUserEvent'.</p>\n<p>Can anyone tell me what am i doing wrong ? And how can i fix it. I am having trouble wrapping my head around this type issue</p>\n<p><strong>UPDATE</strong></p>\n<p>With <strong>switchMap</strong> i was able to solve the type issue i was facing but now i am facing another issue which after implmenting the <strong>switchMap</strong> now my every api gets called 2-3 times. I am not sure why is this happening?</p>\n<p><a href=\"https://i.stack.imgur.com/j9QxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9QxH.png\" alt=\"enter image description here\" /></a></p>\n","userId":1,"threadId":913,"question_id":64876449,"isQuestion":true,"score":0},
{"body":"<p>I'm using <a href=\"https://dmitrybaranovskiy.github.io/raphael/reference.html#Element.onDragOver\" rel=\"nofollow noreferrer\">RaphaelJS</a> to draw paths and circles, and I want to drag and drop a path so that both ends of the line/path are overlapping the circles.</p>\n<p>How can I detect, when I drag a line/path is dragged, that both ends are overlapping circles (and, let's say, not the middle of the line)?</p>\n<p><a href=\"https://i.stack.imgur.com/CoVn2m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CoVn2m.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Circle:</strong></p>\n<pre><code>    this.set = paper.set();\n    this.shape = paper.circle(x, y, 10);\n    paper.setStart();\n    this.radius = 10;\n    this.text = paper.text(x, y - 15, this.name);\n    this.set[0].hover(\n        function() {\n            this.g = this.glow({\n                color: &quot;#fff&quot;,\n                width: 20,\n                opacity: .5\n            });\n            this.node.style.cursor = 'pointer';\n        },\n        function() {\n            this.g.remove();\n        }\n    );\n</code></pre>\n<p><strong>Line:</strong></p>\n<pre><code>let connector = paper.path(`M ${startX} ${startY} l 0 25 l 25 50 L ${endX} ${endY}`);\n\nlet start = function () {\n  this.odx = 0;\n  this.ody = 0;\n  this.animate({&quot;fill-opacity&quot;: 0.2}, 500);\n},\nmove = function (dx, dy) {\n  this.translate(dx - this.odx, dy - this.ody);\n  this.odx = dx;\n  this.ody = dy;\n},\ndrop = function () {\n    this.animate({&quot;fill-opacity&quot;: 1}, 500);\n};\n\nconnector.drag(move, start, drop);\n</code></pre>\n","userId":1,"threadId":912,"question_id":64876469,"isQuestion":true,"score":0},
{"body":"<p>I'm writing an npm module that needs to take a configuration file as command line arguments. Currently I have it working with a json file like so:</p>\n<pre><code>const configurationObject = JSON.parse(await readFile(argv.configPath, 'utf8'));\n</code></pre>\n<p>With this I can run my module like so:</p>\n<pre><code>myModule --configPath &quot;./source/to/config.json&quot;\n</code></pre>\n<p>Now I would like to do the same, but using a .js file as the configuration file.</p>\n<p>How do I parse that file and store the resulting object to a variable? I've looked into the npm package  <code>acorn</code>, but parsing with acorn just gives me an AST, but I can figure out how to turn that into executable code?</p>\n<pre><code>// This results in a string containing the js file contents\n// (readFile is fs.readFile wrapped in a Promise)\nconst fileInput = await readFile(argv.configPathJs, 'utf8');\n\n// Gives me an object structure breaking down the code into an AST\nacorn.parse(fileInput, {ecmaVersion: 2020});\n</code></pre>\n","userId":1,"threadId":914,"question_id":64876437,"isQuestion":true,"score":0},
{"body":"<p>I have a React Native app in which I log errors with Sentry. In one of my components users can scan QR Codes, if the code isn't recognized I log an error to Sentry. This happens many times per second, so if a scan fails I'll get tens or hundreds of logs with with the exact same error message, for example <code>Failed to scan QR Code: http://some.code</code>.</p>\n<p>This is a problem because it's using up my quota for nothing. So I'm looking for a way to debounce this kind of rapid fire error events.</p>\n<p>I looked into the <a href=\"https://docs.sentry.io/platforms/javascript/configuration/filtering/#using-beforesend\" rel=\"nofollow noreferrer\">beforeSend</a> config, but I wanna be able to apply this when I call <code>Sentry.captureMessage</code>, so not sure this is good for me.</p>\n<p>If you have a custom workaround, I'll be happy to try it out :)\nThanks!</p>\n","userId":1,"threadId":915,"question_id":64876405,"isQuestion":true,"score":0},
{"body":"<p>I have a getter called <code>viewItems</code> in my Vuex store, returning an array.\nI can access it from my Cypress test with:</p>\n<pre><code>Cypress.Commands.add(&quot;getStore&quot;, () =&gt; {\n  return cy.window().its(&quot;app.$store&quot;);\n});\n\ncy.getStore().its(&quot;getters.viewItems.length&quot;).should(&quot;equal&quot;, 13);\n</code></pre>\n<p>It works, but I get an error on the console when running Cypress:</p>\n<pre><code>[Vue warn]: Property or method &quot;nodeType&quot; is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties\n</code></pre>\n<p>Is there a better way to access getters, or is it something else?</p>\n","userId":1,"threadId":916,"question_id":64876393,"isQuestion":true,"score":0},
{"body":"<p>I have several draggable objects and several places where it is possible to drop an object. But I don't want anything to be dropped anywhere. Let's say object A should only be dropped in place 1 and object B should only be dropped in place 2.</p>\n<p>I discovered that fiddling with &quot;function drop(event)&quot; was not a good idea. If Firefox couldn't drop, it tried to redirect instead and to go to a site name-of-my-object.com.</p>\n<p>Setting .ondragover to &quot;return false;&quot;, even under specific conditions (ie. wrong object for this place) made the place undroppable for all objects.</p>\n<p>Using</p>\n<pre><code>document.addEventListener(&quot;dragover&quot;, function(event) {\n      event.preventDefault();\n      });\n</code></pre>\n<p>to get the place to accept objects again was indiscriminate : every place accepted any object.</p>\n<p>I've been fighting this for more than a day and, try as I might, I couldn't find a functioning example anywhere online.</p>\n","userId":1,"threadId":917,"question_id":64876390,"isQuestion":true,"score":0},
{"body":"<p>I have defined an interface which goes something like following</p>\n<pre><code>export interface Parameter {\n   access: string;\n   value: string;\n}\n\nexport interface Parameters {\n   parameter: Map&lt;string, Parameter&gt;;\n}\n</code></pre>\n<p>I am trying to use the above interface as follows</p>\n<pre><code>@Pipe({ name: 'opStatus' })\nexport class OpStatusPipe {\n  transform(parameters: Parameters): any {\n    if (parameters.parameter[&quot;X1&quot;].value == &quot;true&quot; &amp;&amp;\n      parameters.parameter[&quot;X2&quot;].value == &quot;true&quot;) {\n      return &quot;Operational&quot;\n    } else {\n      return &quot;Not Operational&quot;\n    }\n  }\n}\n</code></pre>\n<p>Now the problem I am facing is that if I use any functions of the Map (set, get, entries, has) then Angular is happy and I can at least run 'ng serve' but then in the browser I keep getting error <code>parameter property does not have function</code>.\nAnd if I change those functions to JavaScript style (e.g. <code>parameter[&quot;x&quot;].access = &quot;text&quot;</code> , <code>parameters[&quot;x&quot;] + &quot;sometext&quot;</code> then Angular serve fails sometimes (<code>Element implicitly has an 'any' type because type 'Map&lt;string, Parameter&gt;' has no index signature. Did you mean to call 'Parameter.get'</code>) but browser works always.</p>\n<p>I tried to searched everywhere but didn't get any solution. Help is much appreciated.</p>\n<pre><code>Angular CLI: 11.0.1\nNode: 14.15.0\nOS: win32 x64\n</code></pre>\n","userId":1,"threadId":918,"question_id":64876363,"isQuestion":true,"score":0},
{"body":"<p>Assuming I have a folowing code - <a href=\"https://jsfiddle.net/L30vkom4/3/\" rel=\"nofollow noreferrer\">fiddle</a> - with <code>font-size</code> attribute set for <code>&lt;html&gt;</code> tag. <strong>This styling</strong> along with header and footer is generated via js script which <strong>cannot be removed</strong>. This is already existing page for a long time.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;bootstrap4.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;myCustomCss.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;cssLoadedByJs.css&quot;&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;div&gt;\n      Header (need to stay as it is now with smaller font)\n    &lt;/div&gt;\n\n    &lt;div class=&quot;content&quot;&gt; &lt;!--  (need to reset it 100%, so content will be sized as I want...) --&gt;\n      Content\n      &lt;h2&gt;\n        H1 here\n      &lt;/h2&gt;\n    &lt;/div&gt;\n\n    &lt;div&gt;\n      Footer (need to stay as it is now with smaller font)\n    &lt;/div&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Css file injected by remote js (cssLoadedByJs.css) - cannot remove it, need to stay:</p>\n<pre><code>html {font-size: 62.5% !important;}\n</code></pre>\n<p>myCustomCss.css - what I was trying to do:</p>\n<pre><code>html .content {\n    /* font-size: 100% !important; */\n    /* font-size: unset; */\n    /* font-size: 16px; */\n}\n</code></pre>\n<p>How to reset <code>font-size</code> attribute for content div only and preserve header and footer as it is?</p>\n<p>I've tried to set <code>font-size: unset;</code> or <code>font-size: 100%</code> for content div but no result. <code>font-size: 16px</code> let me render text in 16px as I want, but h2 still has only 20px insted of 32px (due to this sizing for html tag, bootstrap use 2rem for h2). Anyway I believe that there is better way than just hardcoded pixel size. Possible to do this somehow? Pls check <a href=\"https://jsfiddle.net/L30vkom4/3/\" rel=\"nofollow noreferrer\">fiddle</a> for better understanding and tests...</p>\n","userId":1,"threadId":919,"question_id":64876358,"isQuestion":true,"score":0},
{"body":"<p>I have a two components Parent and Child and I want to export a context from Parent to Child but this causes circular dependency.</p>\n<p>Consider, for example, Parent.js to be</p>\n<pre class=\"lang-js prettyprint-override\"><code>import {Child} from './Child.js';\n\nexport const MyContext = React.createContext();\n\nconst Parent = () =&gt; {\n    return &lt;MyContext.Provider&gt;&lt;Child /&gt;&lt;/MyContext.Provider&gt;;\n}\n\n</code></pre>\n<p>and Child.js as</p>\n<pre class=\"lang-js prettyprint-override\"><code>import {MyContext} from 'Parent';\n\nconst Child = () =&gt; {\n    const myContext = useContext(MyContext);\n    return &lt;&gt;{myContext}&lt;/&gt;;\n}\n</code></pre>\n<p>I can pass this as props but if there are multiple level of nesting, it would be difficult. A possible solution I can think of is using another file called <code>contexts.js</code> and have all my contexts exported from there.</p>\n<p>Is there a better way to do this?</p>\n","userId":1,"threadId":920,"question_id":64876258,"isQuestion":true,"score":0},
{"body":"<p>In Vue.js we can emit custom events along with a parameter like</p>\n<pre><code>this.$emit('bark', 3);\n</code></pre>\n<p>and then we can listen to this event on the parent component like</p>\n<pre><code>&lt;parent-component @bark=handleBark /&gt;\n\nhandleBark (howManyTimes) {\n    console.log(howManyTimes);\n    // logs 3\n}\n</code></pre>\n<p>How can we do that in React?</p>\n","userId":1,"threadId":921,"question_id":64876248,"isQuestion":true,"score":0},
{"body":"<p>I am trying to create a type from a readonly object, i.e.</p>\n<pre><code>const Actions = {\n\n  'user.crud': ['user.create', 'user.read', 'user.update', 'user.delete'],\n\n} as const\n\ntype ActionsType = keyof typeof Actions | typeof Actions[keyof typeof Actions][number]\n</code></pre>\n<p>The above works nicely and sets up the type <code>ActionsType</code> to the string literals ('user.crud', 'user.create', etc..).</p>\n<p>However, the <code>Actions</code> object above is very simplistic, instead, I really need to generate the Actions via functions. When I port the above over to being generated by a function, i.e.</p>\n<pre><code>// set up a function to generate all actions for the passed role\nfunction getActions (role: string): Record&lt;string, string[]&gt; {\n\n    return {\n        [`${role}.crud`]: [`${role}.create`, `${role}.read`, `${role}.update`, `${role}.delete`],\n    }\n\n}\n\n// generate the Actions from a function\nconst ActionsFromFunction = {\n\n  ...getActions('user'),\n\n} as const\n\n// set up the Actions from a readonly object with values generated by getActions()\ntype ActionsFromFunctionType = keyof typeof ActionsFromFunction | typeof ActionsFromFunction[keyof typeof ActionsFromFunction][number]\n</code></pre>\n<p>the type <code>ActionsFromFunctionType</code> is no longer set to the string literals. Instead it is set to: <code>string | number</code> and in turn type tests fail as any string is accepted.</p>\n<p>I've put together a demo of the above:</p>\n<p><a href=\"https://www.typescriptlang.org/play?ts=4.0.5#code/PTAEGcFMBdQVwA6gIagGZwHYGNoEsB7TUaA0Ac0k0gCdlpIUAbJlXQzcdAmkgC0YJk4KABNQNAk0gBYAFAYc%20IhRgBBdkS4AKSdIBcEaDTyZyASkMAlSNh6iAPOGOnyAGiMmzAbQC6APlAAb3l5UHCJGDgaYhC5CITQbwADABIgvUgAXwA6bBo4UWTfQxT0zNz8yHpIZI80jKlsnJpqovryptzEURq60AaKnNFIaQZitzCIrNC5GblZ4AAqCBh4JGgBUA1lThR4KF5sZGJoZABrRiXgRbBKajoGfkYdji40SQBbfcVNTHk7JxYK8tAAxL6grB-UAAXmCs3COSRlGgIM42gA5HBDhjzJMFnMUFxAc5bqAAO4mJ7IFjbP5ccl4TamZ6gAgAIwAVrZoACtMD6bD4QTwljDnkCqIMaUxbQJdUGBiPLKaC02krQCqcj0ahqtSMxpAMb58fIskTQCTeQT5MtVrBEKzoABPBCQLikEju2DIcjIUzOUDXMlQB0bLZo95ffatZCiIhMZ1srk8ilMvigABuNLg7tUDxq4nZSZRke05nkLrddN24HBBE%20kKUHAAKq7GHDLs6CGgSO2ezW3vXG1DdqAAD59t0DyPDpt-bxdgdVyAz%20lz0ccXzeTBwT7s2i%20ENrR2bF6Cj4NlDEWPxzCJ5Pc3CV9uDrRt6udyDd3srte1icp1XXtI0Xb9l37ED6W3Xd90PWZbRWdk4DwJhxFaOwaFELhsVcJ12y4ZB2QITMrhuAkrVAKwACE1AAYUvEdmyIaxbHsBxZwhTciA-SAPGIpoTkCOE4nCNACAIQxjFzDwQAgPgCDgNDQFoSReGEbgyDwLhMAIH1iGQaEVymLV8kKaV0BpKB8XmPkgSo2i6NYzDHEjXj%20Ik6QhKFUTNKkgo%20NAOTMIw6AH1UnhwBM7E5TMqVDDQKy%20LNeQgA\" rel=\"nofollow noreferrer\">Playground</a></p>\n<p>Is there a way of generating the <code>Actions</code> object via a function, whilst still maintaining the string literals within the type?</p>\n","userId":1,"threadId":922,"question_id":64876213,"isQuestion":true,"score":0},
{"body":"<p>is there an easy way (maybe tslint rule) to prevent us from using MyClass.name, or myFunction.name?</p>\n<p>We're trying to make sure no Dev end up using this, as the minification process will change method names.</p>\n<p>Thank you!</p>\n","userId":1,"threadId":923,"question_id":64876188,"isQuestion":true,"score":0},
{"body":"<p>Is it normal on writing into JSON File but not saving it? if so, how do you actually save it if its done? After I write into JSON file and read it again... it came back to normal...</p>\n<pre><code>module.exports = {\n    data: async function() {\n        const fs = require('fs');\n        let obj;\n\n\n        fs.readFile('test.json', 'utf8', function readFileCallBack(err, data) {\n            if (err) console.log(err);\n            else if (data !== undefined) {\n                obj = JSON.parse(data);\n                obj.table.push({ id: 1, name: 'test' });\n                json = JSON.stringify(obj);\n                console.log(obj); //{ table: [{id:1, name: 'test'}] }\n                fs.writeFile('test.json', json, readFileCallBack);\n            }\n        });\n\n\n        fs.readFile('test.json', 'utf8', function readFileCallBack(err, data) {\n            if (err) console.log(err);\n            else if (data !== undefined) {\n                obj = JSON.parse(data);\n                console.log(obj); //{ table: [] }\n            }\n        });\n    }\n}\n</code></pre>\n<p>My JSON File:</p>\n<pre><code>{\n    &quot;table&quot;: [\n        \n    ]\n}\n</code></pre>\n<p>Is there someting to do with <code>localstorage.setItem()</code> to actually save it?</p>\n","userId":1,"threadId":924,"question_id":64876179,"isQuestion":true,"score":0},
{"body":"<p>I'm trying to allow users on a website to share a URL to a group on messenger.\nSo far, using <a href=\"https://www.npmjs.com/package/react-share\" rel=\"nofollow noreferrer\">react-share</a>'s <code>FacebookMessengerShareButton</code> I've managed to open a dialog allowing user to share with a friend.\n<a href=\"https://i.stack.imgur.com/LWKIN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWKIN.png\" alt=\"Facebook dialog to share on messenger\" /></a>\nBut I would like to prefill the recipient. The parameter <code>to</code> (available on FacebookMessengerShareButton and as a URL parameter) should be able to do that : <a href=\"https://developers.facebook.com/docs/sharing/reference/send-dialog\" rel=\"nofollow noreferrer\">Facebook's send dialog documentation</a> says we should be able to put a user id.\nI have two problems :</p>\n<ul>\n<li>Filling the recipient does not seem to have any effect as the recipient field stays empty.</li>\n<li>If specifying a recipient can't be done, I would be ok with my user being able to select a group as recipient. But users seem to be unable to search for a group in the recipient field. Only users.</li>\n</ul>\n<p>Is there any way to accomplish either of those needs (prefill recipient with a group, or allow user to search for a group) ?</p>\n<p>I don't mind changing <code>react-share</code> for another library (or using facebook's api directly) if it allows me to do so.</p>\n<p>Thanks,</p>\n","userId":1,"threadId":925,"question_id":64876146,"isQuestion":true,"score":0},
{"body":"<p>I am writing an automated test to where I perform an action recursively , say count a popup window after a click on a button . I need to count how many times I have performed the popup appeared after the click. What is the best way to do it in webdriverio?</p>\n<pre><code>for (let i = 0; i &lt; 20; i += 1) {\n  if (!click) {\n     //Perform an action and get count\n  }\n  else do something\n}\n</code></pre>\n<p>What is the best way to count an action ?</p>\n","userId":1,"threadId":926,"question_id":64876086,"isQuestion":true,"score":0},
{"body":"<p>I'm trying to implement an expandable and collapsible tree using d3.js.\nBut it seems like not working.</p>\n<p>Can someone suggest how to fix this?</p>\n<p>I mean I'm not being able to expand and toggle it like <a href=\"https://codepen.io/augbog/pen/LEXZKK?__cf_chl_jschl_tk__=08421bdb6ffbe500455fb987dd5b87f62684d3af-1605511760-0-AZFiQt7LmH9KvUnT-JBLVTun8wED9XKr-6AlJ5AonHc7KGIlZUvj9rHtE0GMYkicsg8kpi4espXenprvzaY6jdgEvKNbLM4EDdTal9--lGa6mGh4Hxy3r6qRkLO7hbPnUGrpfSjeWCLk6Ip9zTq4Hcnif8NOV8s60v8kpIW5mTINIBf0dq43mH1lBqaLuqmGnk3qx16jbzHgZXtgD8YuEKJ4EqrXZMy3zwKUH7lpjJd53FNXZ6o90WyCFVu6XgIwJVeOSsnQm9Q7ZXZAhBuAJSwbFKiY0qe9dL0pkfgCXLHFLr7ajtq1ztplw59w2ciUdi5cGNzJ2XLK9_qojFTckh9ar6AQBUB6-Eb-WKagWm5_\" rel=\"nofollow noreferrer\">this demo</a>.</p>\n<p>Following is my implementation in vue.js:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var app = new Vue({\n  el: '#app',\n  mounted() {\n    var treeData = {\n      name: \"Top Level\",\n      children: [{\n          name: \"Level 2: A\",\n          children: [{\n              name: \"Son of A\",\n            },\n            {\n              name: \"Daughter of A\",\n            },\n          ],\n        },\n        {\n          name: \"Level 2: B\",\n        },\n      ],\n    };\n\n    // Set the dimensions and margins of the diagram\n    var margin = {\n        top: 0,\n        right: 90,\n        bottom: 30,\n        left: 90,\n      },\n      width = 960 - margin.left - margin.right,\n      height = 500 - margin.top - margin.bottom;\n\n    // append the svg object to the body of the page\n    // appends a 'group' element to 'svg'\n    // moves the 'group' element to the top left margin\n    var svg = d3\n      .select(\"#tree-graph\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.right + margin.left)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    var i = 0,\n      duration = 750,\n      root;\n\n    // declares a tree layout and assigns the size\n    var treemap = d3.tree().size([height, width]);\n\n    // Assigns parent, children, height, depth\n    root = d3.hierarchy(treeData, function(d) {\n      return d.children;\n    });\n    root.x0 = height / 2;\n    root.y0 = 0;\n\n    // Collapse after the second level\n    //root.children.forEach(collapse);\n\n    update(root);\n\n    // Collapse the node and all it's children\n    function collapse(d) {\n      if (d.children) {\n        d._children = d.children;\n        d._children.forEach(collapse);\n        d.children = null;\n      }\n    }\n\n    function update(source) {\n      // Assigns the x and y position for the nodes\n      var treeData = treemap(root);\n\n      // Compute the new tree layout.\n      var nodes = treeData.descendants(),\n        links = treeData.descendants().slice(1);\n\n      // Normalize for fixed-depth.\n      nodes.forEach(function(d) {\n        d.y = d.depth * 180;\n      });\n\n      // ****************** Nodes section ***************************\n\n      // Update the nodes...\n      var node = svg.selectAll(\"g.node\").data(nodes, function(d) {\n        return d.id || (d.id = ++i);\n      });\n\n      // Enter any new modes at the parent's previous position.\n      var nodeEnter = node\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"node\")\n        .attr(\"transform\", function(e, d) {\n          return \"translate(\" + source.x0 + \",\" + source.y0 + \")\";\n        })\n        .on(\"click\", click);\n\n      // Add Circle for the nodes\n      nodeEnter\n        .append(\"circle\")\n        .attr(\"class\", \"node\")\n        .attr(\"r\", 1e-6)\n        .style(\"fill\", function(d) {\n          return d._children ? \"lightsteelblue\" : \"#fff\";\n        });\n\n      // Add labels for the nodes\n      nodeEnter\n        .append(\"text\")\n        .attr(\"dy\", \".35em\")\n        .attr(\"x\", function(d) {\n          return d.children || d._children ? -13 : 13;\n        })\n        .attr(\"text-anchor\", function(d) {\n          return d.children || d._children ? \"end\" : \"start\";\n        })\n        .text(function(d) {\n          return d.data.name;\n        });\n\n      // UPDATE\n      var nodeUpdate = nodeEnter.merge(node);\n\n      // Transition to the proper position for the node\n      nodeUpdate\n        .transition()\n        .duration(duration)\n        .attr(\"transform\", function(d) {\n          return \"translate(\" + d.x + \",\" + d.y + \")\";\n        });\n\n      // Update the node attributes and style\n      nodeUpdate\n        .select(\"circle.node\")\n        .attr(\"r\", 10)\n        .style(\"fill\", function(d) {\n          return d._children ? \"lightsteelblue\" : \"#fff\";\n        })\n        .attr(\"cursor\", \"pointer\");\n\n      // Remove any exiting nodes\n      var nodeExit = node\n        .exit()\n        .transition()\n        .duration(duration)\n        .attr(\"transform\", function(d) {\n          return \"translate(\" + source.y + \",\" + source.x + \")\";\n        })\n        .remove();\n\n      // On exit reduce the node circles size to 0\n      nodeExit.select(\"circle\").attr(\"r\", 1e-6);\n\n      // On exit reduce the opacity of text labels\n      nodeExit.select(\"text\").style(\"fill-opacity\", 1e-6);\n\n      // ****************** links section ***************************\n\n      // Update the links...\n      var link = svg.selectAll(\"path.link\").data(links, function(d) {\n        return d.id;\n      });\n\n      // Enter any new links at the parent's previous position.\n      var linkEnter = link\n        .enter()\n        .insert(\"path\", \"g\")\n        .attr(\"class\", \"link\")\n        .attr(\"d\", function(d) {\n          var o = {\n            x: source.x0,\n            y: source.y0,\n          };\n          return diagonal(o, o);\n        });\n\n      link\n        .enter()\n        .insert(\"text\", \"g\")\n        .attr(\"font-family\", \"Arial, Helvetica, sans-serif\")\n        .attr(\"fill\", \"Orange\")\n        .style(\"font\", \"normal 12px Arial\")\n        .attr(\"transform\", function(d) {\n          return (\n            \"translate(\" +\n            (d.parent.y + d.x) / 2 +\n            \",\" +\n            (d.parent.x + d.y) / 2 +\n            \")\"\n          );\n        })\n        .attr(\"dy\", \".35em\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(function(d) {\n          return d.data.name;\n        });\n\n      // UPDATE\n      var linkUpdate = linkEnter.merge(link);\n\n      // Transition back to the parent element position\n      linkUpdate\n        .transition()\n        .duration(duration)\n        .attr(\"d\", function(d) {\n          return diagonal(d, d.parent);\n        });\n\n      // Remove any exiting links\n      var linkExit = link\n        .exit()\n        .transition()\n        .duration(duration)\n        .attr(\"d\", function(d) {\n          var o = {\n            x: source.x,\n            y: source.y,\n          };\n          return diagonal(o, o);\n        })\n        .remove();\n\n      // Store the old positions for transition.\n      nodes.forEach(function(d) {\n        d.x0 = d.x;\n        d.y0 = d.y;\n      });\n\n      // Creates a curved (diagonal) path from parent to the child nodes\n      function diagonal(s, d) {\n        let path = `M ${s.y} ${s.x}\n    C ${(s.y + d.x) / 2} ${s.x},\n      ${(s.y + d.x) / 2} ${d.x},\n      ${d.x} ${d.y}`;\n\n        return path;\n      }\n\n      // Toggle children on click.\n      function click(e, d) {\n        if (d.children) {\n          d._children = d.children;\n          d.children = null;\n        } else {\n          d.children = d._children;\n          d._children = null;\n        }\n        update(d);\n      }\n    }\n  }\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.node circle {\n  fill: #fff;\n  stroke: steelblue;\n  stroke-width: 3px;\n}\n\n.node text {\n  font: 12px sans-serif;\n}\n\n.link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 2px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"app\"&gt;\n  &lt;div id=\"tree-graph\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n","userId":1,"threadId":927,"question_id":64876021,"isQuestion":true,"score":0},
{"body":"<p>I have something like this (about 100 &quot;person&quot; classes) and I want to change every <code>.name</code> text, where the value of <code>.checkValue</code> is 3, but it should stay the same, when the value is 1 or 2. How can I do that?</p>\n<pre><code>&lt;div class=&quot;item1&quot;&gt;\n    &lt;div class=&quot;person&quot;&gt;\n        &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;\n        &lt;div class=&quot;birthday&quot;&gt;&lt;/div&gt;\n        &lt;input type=&quot;hidden&quot; class=&quot;checkValue&quot; value=&quot;1&quot;/&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;person&quot;&gt;\n        &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;\n        &lt;div class=&quot;birthday&quot;&gt;&lt;/div&gt;\n        &lt;input type=&quot;hidden&quot; class=&quot;checkValue&quot; value=&quot;3&quot;/&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;person&quot;&gt;\n        &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;\n        &lt;div class=&quot;birthday&quot;&gt;&lt;/div&gt;\n        &lt;input type=&quot;hidden&quot; class=&quot;checkValue&quot; value=&quot;1&quot;/&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;person&quot;&gt;\n        &lt;div class=&quot;name&quot;&gt;&lt;/div&gt;\n        &lt;div class=&quot;birthday&quot;&gt;&lt;/div&gt;\n        &lt;input type=&quot;hidden&quot; class=&quot;checkValue&quot; value=&quot;2&quot;/&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n","userId":1,"threadId":928,"question_id":64876018,"isQuestion":true,"score":0},
{"body":"<p>I would like to take a screenshot of my page.</p>\n<p>The initial code I found here:</p>\n<p><a href=\"https://retifrav.github.io/blog/2018/07/23/html-js-screenshot/\" rel=\"nofollow noreferrer\">https://retifrav.github.io/blog/2018/07/23/html-js-screenshot/</a></p>\n<p>which in my case looks like this:</p>\n<pre><code> function makeScreenshot() {\n   html2canvas(document.getElementById(&quot;screenshot&quot;), {scale: 2}).then(canvas =&gt; {\n    canvas.id = &quot;map&quot;;\n    canvas.crossOrigin = &quot;Anonymous&quot;;\n    var main = document.getElementById(&quot;main&quot;);\n    while (main.firstChild) {\n   main.removeChild(main.firstChild); \n    }\n    console.log(main);\n    main.appendChild(canvas);\n   });\n  }\n\n  document.getElementById(&quot;a-make&quot;).addEventListener('click', function()\n  {\n  document.getElementById(&quot;a-make&quot;).style.display = &quot;none&quot;;\n  makeScreenshot();\n  document.getElementById(&quot;a-download&quot;).style.display = &quot;inline&quot;;\n }, false);\n\n document.getElementById(&quot;a-download&quot;).addEventListener('click', function()\n {\n\n  this.href = document.getElementById(&quot;map&quot;).toDataURL();\n  this.download = &quot;canvas-image.png&quot;;\n }, false);\n</code></pre>\n<p>and HTML:</p>\n<pre><code>    &lt;div id=&quot;map&quot;&gt;\n    &lt;div id=&quot;screenshot&quot;&gt;\n        &lt;div id=&quot;popup&quot; class=&quot;ol-popup&quot;&gt;\n            &lt;a href=&quot;#&quot; id=&quot;popup-closer&quot; class=&quot;ol-popup-closer&quot;&gt;&lt;/a&gt;\n            &lt;div id=&quot;popup-content&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;a id=&quot;a-make&quot; href=&quot;#&quot;&gt;Make a screenshot&lt;/a&gt;\n    &lt;a id=&quot;a-download&quot; href=&quot;#&quot; style=&quot;display:none;&quot;&gt;Download a screenshot&lt;/a&gt;\n     &lt;/div&gt;\n</code></pre>\n<p>The console says:</p>\n<p><strong>Uncaught (in promise) TypeError: Cannot read property 'firstChild' of null\nat index.html:146</strong></p>\n<p>and next</p>\n<pre><code>**Uncaught TypeError: document.getElementById(...).toDataURL is not a function\n   at HTMLAnchorElement.&lt;anonymous&gt; (index.html:164)**\n</code></pre>\n<p>which is more important I guess, because I can't export my screenshot.</p>\n<p>I found some solution here:</p>\n<p><a href=\"https://stackoverflow.com/questions/38900628/qr-code-to-dataurl\">QR code to dataURL</a></p>\n<p>and tried to implement into my code:</p>\n<pre><code>     canvas.crossOrigin = &quot;Anonymous&quot;;\n</code></pre>\n<p>just underneath the</p>\n<pre><code>     canvas.id = &quot;map&quot;;\n\n     and\n\n     var canvas = document.getElementById('map').querySelector('canvas');\n     var dataURL = canvas.toDataURL();\n</code></pre>\n<p>just above the</p>\n<pre><code>     this.href = document.getElementById(&quot;map&quot;).innerHTML = dataURL();\n     this.download = &quot;canvas-image.png&quot;;\n     }, false);\n</code></pre>\n<p>The fiddle is here</p>\n<p><a href=\"https://jsfiddle.net/kyzLfur3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/kyzLfur3/</a></p>\n<p><a href=\"https://i.stack.imgur.com/xQQ5n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQQ5n.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know where the problem might be?</p>\n","userId":1,"threadId":929,"question_id":64875940,"isQuestion":true,"score":0},
{"body":"<p><a href=\"https://i.stack.imgur.com/6qW3U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6qW3U.png\" alt=\"enter image description here\" /></a>I have datatable I turned off its pagination now I want to show total enteries . Which displayed like <code>Showing 0 to 0 of 0 entries</code> and search bar at the top but when i take total enteries at top . Search bar goes down in the bottom</p>\n<pre><code> $('#consignment_table').DataTable({\n                        responsive: true,\n                        &quot;order&quot;: [],\n                        &quot;bSort&quot;: true,\n                        scrollY: '50vh',\n                        scrollX: true,\n                        scrollCollapse: true,\n                        &quot;paging&quot;: false,\n                        dom:'&lt;&quot;top&quot;i&gt;rt&lt;&quot;top&quot;f&gt;&lt;&quot;clear&quot;&gt;',\n\n                        aLengthMenu: [\n                            [-1],\n                            [&quot;All&quot;]\n                        ],\n                        iDisplayLength: 5000\n                    }).draw();\n</code></pre>\n<p>I want to take both total enteries and search bar at the top</p>\n","userId":1,"threadId":930,"question_id":64875932,"isQuestion":true,"score":0},
{"body":"<p>I have written a script that displays pictures and videos like a slideshow. It runs over node on a PM2 instance. Now the following problem the images are normally played one after the other but when it's the video's turn it only plays when I press F11. But if I start Chrome normally and enter my URL: <code>&quot;http://localhost:3000/&quot; or via &quot;-kiosk http://localhost:3000/&quot;</code> the video does not work.</p>\n<p>Does someone knows the problem?</p>\n<p>For more information I'm here to answer them.</p>\n","userId":1,"threadId":931,"question_id":64875881,"isQuestion":true,"score":0},
{"body":"<p>I am making a todo/shopping list in ReactJS. Besides being able to add items manually to the list by input, the user should also be able to add items programmatically.</p>\n<p>I am using <code>createContext()</code> and <code>useReducer</code> for managing the <code>state()</code>.</p>\n<p>When I add items programmatically by providing an array through the props and listen for changes in <code>useEffect</code>, the <code>useEffect</code> and <code>dispatch</code> fires twice despite that I only changed the props once.</p>\n<p>However this is NOT happening when I provide the array of items through props the first time.</p>\n<p>Consequently, after the first time, when <code>dispatch</code> fires twice the list get duplicates (also duplicate keys).</p>\n<p>Is it happening due to some re-rendering process that I am not aware of? Any help is much appreciated as I am really stuck on this one.</p>\n<p>Here is the code:</p>\n<p>Context provider component containing the useEffect that triggers the dispatch method from useReducer when the props change:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React, { createContext, useEffect, useReducer } from 'react';\nimport todosReducer from '../reducers/todos.reducer';\nimport { ADD_INGREDIENT_ARRAY } from '../constants/actions';\n\nconst defaultItems = [\n  { id: '0', task: 'Item1', completed: false },\n  { id: '1', task: 'Item2', completed: false },\n  { id: '2', task: 'Item3', completed: false }\n];\n\nexport const TodosContext = createContext();\nexport const DispatchContext = createContext();\n\nexport function TodosProvider(props) {\n  const [todos, dispatch] = useReducer(todosReducer, defaultItems)\n\n  useEffect(() =&gt; {\n    if (props.ingredientArray.length) {\n      dispatch({ type: ADD_INGREDIENT_ARRAY, task: props.ingredientArray });\n    }\n  }, [props.ingredientArray])\n\n  return (\n    &lt;TodosContext.Provider value={todos}&gt;\n      &lt;DispatchContext.Provider value={dispatch}&gt;\n        {props.children}\n      &lt;/DispatchContext.Provider&gt;\n    &lt;/TodosContext.Provider&gt;\n  );\n}\n</code></pre>\n<p>My reducer function (<code>ADD_INGREDIENT_ARRAY</code> is the one that gets called from above code snippet) :</p>\n<pre><code>import uuidv4 from &quot;uuid/dist/v4&quot;;\nimport { useReducer } from &quot;react&quot;;\nimport {\n  ADD_TODO,\n  REMOVE_TODO,\n  TOGGLE_TODO,\n  EDIT_TODO,\n  ADD_INGREDIENT_ARRAY\n} from '../constants/actions';\n\nconst reducer = (state, action) =&gt; {\n  switch (action.type) {\n    case ADD_TODO:\n      return [{ id: uuidv4(), task: action.task, completed: false }, ...state];\n    case REMOVE_TODO:\n      return state.filter(todo =&gt; todo.id !== action.id);\n    case TOGGLE_TODO:\n      return state.map(todo =&gt;\n        todo.id === action.id ? { ...todo, completed: !todo.completed } : todo\n      );\n    case EDIT_TODO:\n      return state.map(todo =&gt;\n        todo.id === action.id ? { ...todo, task: action.task } : todo\n      );\n    case ADD_INGREDIENT_ARRAY: \n        console.log('THE REDUCER WAS CALLED')\n        return [...action.task.map(ingr =&gt; ({ id: uuidv4(), task: ingr.name, completed: false }) ), ...state]\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n</code></pre>\n<p>The list component that renders each item and uses the context from above code snippet:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React, { useContext, useEffect, useState } from 'react';\nimport { TodosContext, DispatchContext } from '../contexts/todos.context';\nimport Todo from './Todo';\n\nfunction TodoList() {\n  const todos = useContext(TodosContext);\n\n  return (\n    &lt;ul style={{ paddingLeft: 10, width: &quot;95%&quot; }}&gt;\n      {todos.map(todo =&gt; (\n        &lt;Todo key={Math.random()} {...todo} /&gt;\n      ))}\n    &lt;/ul&gt;\n  );\n}\n\nexport default TodoList;\n</code></pre>\n<p>And the app component containing the list which is wrapped in the context provider that passes the props:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React, { useEffect, useReducer } from 'react';\nimport { TodosProvider } from '../contexts/todos.context';\nimport TodoForm from './TodoForm';\nimport TodoList from './TodoList';\n\nfunction TodoApp({ ingredientArray }) {\n  return (\n    &lt;TodosProvider ingredientArray={ingredientArray}&gt;\n      &lt;TodoForm/&gt;\n      &lt;TodoList/&gt;\n    &lt;/TodosProvider&gt;\n  );\n}\n\nexport default TodoApp;\n</code></pre>\n<p>And the top level component that passes the props as well:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React, { useEffect, useContext } from 'react';\nimport TodoApp from './TodoApp';\nimport useStyles from '../styles/AppStyles';\nimport Paper from '@material-ui/core/Paper';\n\nfunction App({ ingredientArray }) {\n  const classes = useStyles();  \n\n  return (\n    &lt;Paper className={classes.paper} elevation={3}&gt;\n      &lt;div className={classes.App}&gt;\n        &lt;header className={classes.header}&gt;\n          &lt;h1&gt;\n            Shoppinglist\n        &lt;/h1&gt;\n        &lt;/header&gt;\n        &lt;TodoApp ingredientArray={ingredientArray} /&gt;\n      &lt;/div&gt;\n    &lt;/Paper&gt;\n  );\n}\n\nexport default App;\n</code></pre>\n<p>The parent component where ingredientArray is made. It takes the last recipe in the state.recipes array and passes it as props to the shoppingList:</p>\n<pre><code>...\n  const handleSetNewRecipe = (recipe) =&gt; {\n    recipe.date = state.date;\n    setState({ ...state, recipes: [...state.recipes, recipe] })\n  }\n...\n\n {recipesOpen ? &lt;RecipeDialog\n    visible={recipesOpen}\n    setVisible={setRecipesOpen}\n    chosenRecipe={handleSetNewRecipe}\n  /&gt; : null}\n\n...\n\n &lt;Grid item className={classes.textAreaGrid}&gt;\n     &lt;ShoppingList ingredientArray={state.recipes.length ? state.recipes.reverse()[0].ingredients : []}/&gt;\n &lt;/Grid&gt;\n\n....\n\n</code></pre>\n<p>What am I doing wrong?</p>\n","userId":1,"threadId":932,"question_id":64875876,"isQuestion":true,"score":0},
{"body":"<p>I have a function that reads from mysql database.</p>\n<pre class=\"lang-js prettyprint-override\"><code>// ['username', 'full_name', 'dob', 'add_line1', 'add_line2', 'city', 'state', 'country']\nconst allUserFields = require('../fields/user'); \n\nconst readUser = async (filter, fields) =&gt; {\n  let fieldsToRead; // *\n  if (fields.length &gt; 0 &amp;&amp; fields[0] === 'all') {  // *\n    fieldsToRead = allUserFields // *\n  } else { // *\n    fieldsToRead = fields; // *\n  } // *\n\n  // This is another function that takes the filter, \n  // turns that into a statement and params list, runs the query and returns the result\n  const rows = await getRows('user', filter, fieldsToRead); // getRows(tableName, filter, fields);\n  return rows[0];\n}\n\n</code></pre>\n<p>When I want only the dob and city of a user whose username is amigo, I use it like:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const user = await readUser({username: 'amigo'}, ['dob', 'city']);\n</code></pre>\n<p>When I want all the fields, I do:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const user = await readUser({username: 'amigo'}, ['all']);\n</code></pre>\n<p>I don't want to import the array of all fields in each file in which I want to read all the fields of the user and pass it.</p>\n<p>Hence the lines marked with * are written.</p>\n<p>Questions:</p>\n<ol>\n<li>I was wondering if there was a better way of indicating to the function to get all fields instead of passing <code>['all']</code>?</li>\n<li>Also what term do we use for such problems? Like we say 'ds algo problem' when ther question is related to ds and algo.</li>\n</ol>\n","userId":1,"threadId":933,"question_id":64875860,"isQuestion":true,"score":0},
{"body":"<p>I have to store Token from notification librarie and send it to an API when the user is logged.\nso this is my code :</p>\n<pre><code>// App.js:\n...\nconst TOKENNOTIFSTORED = &quot;tokennotif_stored&quot;;\n...\ncomponentDidMount() {\n    PushNotification.configure({\n      onRegister: async function (token) {\n        try {\n          await AsyncStorage.setItem(TOKENNOTIFSTORED, token.token)  \n          let tokenN = await AsyncStorage.getItem(TOKENNOTIFSTORED);\n          console.warn(&quot;TOKEN from notif: &quot;, token.token); \n\n        } catch (error) {\n          console.warn('erreur de storage token notiif ' + error);\n        }\n      },\n      onNotification: function (notification) {\n        console.warn(&quot;NOTIFICATION:&quot;, JSON.stringify(notification));\n      },\n\n      ...\n\n    });\n    PushNotification.subscribeToTopic('global');\n  }\n</code></pre>\n<p>the first time the user is redirected to the login stack, I don't need token there\nafter this user logs in it will be redirected to the main stack, then I need to get the token and send it to an API:</p>\n<pre><code>// Home.js\n...\nconst TOKENNOTIFSTORED = &quot;tokennotif_stored&quot;;\n...\n    AsyncStorage.getItem(USERID_STORED)\n      .then(userIdStore =&gt; {\n        this.setState({ userId: userIdStore }, () =&gt; {\n          AsyncStorage.getItem(TOKENNOTIFSTORED)\n          .then(tokenN =&gt; {\n            console.warn('token: ' + tokenN); &lt;&lt; null first time\n            this.setState({ tokenNotif: tokenN}, () =&gt; {\n                this.getSlides(this.state.userId, this.state.tokenNotif).then(data =&gt; {\n                  console.warn('token from home: ' + this.state.tokenNotif); &lt;&lt; null first time\n                  this.setState({\n                    size: data.nombrePoints.length &lt; 5 ? false : true,\n                    score: data.nombrePoints, slides: data.SlidesList, isLoading: false,\n                    showModal2: data.Enable === 0 ? true : false,\n                    messageBlock: data.message,\n                  });\n                });\n            });\n          });\n        });\n      });\n</code></pre>\n<p>the first time it get me <code>null</code> but if I close the app and run it again the <code>console.warn('token from home: ' + this.state.tokenNotif)</code> and <code>console.warn('token: ' + tokenN);</code> get me the right value.</p>\n","userId":1,"threadId":934,"question_id":64875798,"isQuestion":true,"score":0},
{"body":"<p>We are working on a chat app, which has media(audio, video, documents) sending functionality. When I send specific videos from one device to another device, It does not play in the browser. Only sound plays. But some video works perfectly. The video plays well when I play it in windows media player after downloading. I get to know that issue is coming because of did not support of codec format. We are using html5 video player to play videos. video URL which is causing the issue. <a href=\"https://staging7.goozam.org/public/storage/attachments/8281/nkhBygGCL21605179655/VID_20201112_110644.mp4\" rel=\"nofollow noreferrer\">video url</a>\ncodec: mp42 (isom/mp42)\nI tested it with many web-players eg. VideoJS, Jplayer, mediaelement, afterglow, etc. but Video is not playing with any of the libraries or plugins.\nIs there any solution to it? or there any best web library or plugin which plays different codec format videos.\nI am not pasting any code because the developer will understand my problem by reading this.</p>\n","userId":1,"threadId":935,"question_id":64875735,"isQuestion":true,"score":0},
{"body":"<p>I am working on a FreeCodeCamp data visualization project and having a lot of trouble with the tooltip.  Right now I am only getting it to show undefined and am unsure how I should be passing data to the tooltip so it shows correctly.  Can anyone take a look at this and tell me what I am doing wrong?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var tooltip = d3.select('#dataHolder')\n  .append('div')\n  .style('position', 'absolute')\n  .attr('id', 'tooltip')\n  .style('opacity', 0);\n\nfetch('https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/GDP-data.json')\n  .then(res =&gt; res.json())\n  .then(res =&gt; {\n    const {\n      data\n    } = res;\n    populateData(data);\n  })\n\nfunction populateData(data) {\n  const hsvg = 500;\n  const wsvg = 900;\n  const padding = 38;\n  const barWidth = (wsvg - 2 * padding) / data.length;\n  const years = data.map(function(i) {\n    let quarter;\n    let temp = i[0].substring(5, 7);\n\n    if (temp === '01') {\n      quarter = 'Q1';\n    } else if (temp === '04') {\n      quarter = 'Q2';\n    } else if (temp === '07') {\n      quarter = 'Q3';\n    } else if (temp === '10') {\n      quarter = 'Q4';\n    }\n\n    return i[0].substring(0, 4) + ' ' + quarter;\n  });\n\n  const yearsDate = data.map(function(i) {\n    return new Date(i[0]);\n  });\n  const GDP = data.map(function(i) {\n    return \"$\" + i[1] + ' Billion'\n  });\n\n  let latestDate = new Date(d3.max(yearsDate));\n  latestDate.setMonth(latestDate.getMonth() + 3);\n  let earliestDate = new Date(d3.min(yearsDate));\n  earliestDate.setMonth(earliestDate.getMonth() + 3);\n  const minGDP = d3.min(data, (d) =&gt; d[1]);\n  const maxGDP = d3.max(data, (d) =&gt; d[1]);\n\n  const xScale = d3.scaleTime()\n    .domain([d3.min(yearsDate), latestDate])\n    .range([padding, wsvg - padding]);\n\n  const yScale = d3.scaleLinear()\n    .domain([0, maxGDP])\n    .range([hsvg - padding, padding]);\n\n  const xAxis = d3.axisBottom(xScale);\n  const yAxis = d3.axisLeft(yScale);\n\n  const svg = d3.select('#dataHolder')\n    .append('svg')\n    .attr('width', wsvg)\n    .attr('height', hsvg);\n\n  svg.append('g')\n    .attr('transform', \"translate(0,\" + (hsvg - padding) + \")\")\n    .attr('id', 'x-axis')\n    .call(xAxis);\n\n  svg.append('g')\n    .attr('transform', \"translate(\" + padding + \",0)\")\n    .attr('id', 'y-axis')\n    .call(yAxis);\n\n  svg.selectAll('rect')\n    .data(data)\n    .enter()\n    .append('rect')\n    .attr('data-date', (d, i) =&gt; data[i][0])\n    .attr('data-gdp', (d, i) =&gt; data[i][1])\n    .attr('class', 'bar')\n    .attr('x', (d, i) =&gt; xScale(yearsDate[i]))\n    .attr('y', (d) =&gt; yScale(d[1]))\n    .attr('width', barWidth)\n    .attr('height', (d) =&gt; hsvg - yScale(d[1]) - padding)\n    .on('mouseover', (d, i) =&gt; {\n      tooltip.transition().duration(100).style('opacity', 0.9).style('left', (event.pageX + 10) + 'px').style('top', (event.pageY - 10) + 'px');\n      tooltip.html('&lt;p&gt;Date: ' + years[i] + '&lt;/p&gt;&lt;br&gt;&lt;p&gt;$:' + GDP[i] + 'Billion &lt;/p&gt;');\n    })\n    .on('mouseout', (d, i) =&gt; {\n      tooltip.transition().duration(150).style('opacity', 0);\n    });\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#tooltip {\n  background: white;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js\"&gt;&lt;/script&gt;\n&lt;h1 id='title'&gt;USA GDP by Quarter&lt;/h1&gt;\n&lt;div id='dataHolder'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n","userId":1,"threadId":936,"question_id":64875718,"isQuestion":true,"score":0},
{"body":"<p>I am trying to run a block of code that is series of IF ELSE IF statements, that checks to see if certain conditions are true.</p>\n<pre><code>    if (2 &gt; 1) {\n        return true;\n    }\n\n    else if (3 &gt; 1) {\n        return true;\n    }\n\n    else if (4 &gt; 1) {\n        return true;\n    }\n\n    else {\n        alert('Not all conditions are true')\n    }\n</code></pre>\n<p>It is working fine, but I want to add a function at the end, if all the conditions are true, In the code below I added the function, but now it seems to run the function without checking all the conditions first</p>\n<pre><code>    if (2 &gt; 1) {\n        return true;\n    }\n    else if (3 &gt; 1) {\n        return true;\n    }\n    else if (4 &gt; 1) {\n        return true;\n    }\n    else {\n        alert('Not all conditions are true')\n    }\n\n    // Run this function after checking all the conditions are true\n    allConditionsTrue();\n</code></pre>\n<p>I think I am getting confused with where the function should be placed.</p>\n<p>Any help is greatly appreciated :)</p>\n","userId":1,"threadId":937,"question_id":64875701,"isQuestion":true,"score":0},
{"body":"<p>From what I can understand, the URLs of site do not change during navigation if the element with the <code>href</code>/<code>src</code>  is within an <code>iframe</code>. And there is a way to override this by getting the ID of every single link element that would exist in the iframe and then set the <code>src</code> manually on each, such as in the response to this question <a href=\"https://stackoverflow.com/questions/7036572/change-url-in-an-iframe-using-javascript\">Change URL in an iframe using javascript</a></p>\n<p>However the links I want to reflect in the URL are to pages created and added to the site by users, and I cannot know in advance what these URLs will be called, so cannot manually link to them in advance.</p>\n<p>Is there a workaround for this? And if so, is it really worth the effort and possible messiness? The <code>iframe</code> in question is part of a 3rd party library that I have no control over (<code>django-fobi</code>)</p>\n","userId":1,"threadId":938,"question_id":64875694,"isQuestion":true,"score":0},
{"body":"<p>I am trying to create a service to run a Node.js backend api application on ubuntu to run with systemmd.\nI'm stuck on the following error</p>\n<pre><code>/home/ubuntu/Pdf2t/node_modules/fs-extra/lib/mkdirs/make-dir.js:85\n} catch {\nSyntaxError: Unexpected token {\n</code></pre>\n<p>I have read through the internet found that the issue was occuring on fs-extra versions below 9 and node below 10. I'm using fs-extra version 9.0.1 and above with node 14.15.1 on Ubuntu 18.04.2 LTS</p>\n<p>The interesting thing is just running the command sudo node index.js works perfectly.</p>\n<p>The service is defined as such:</p>\n<pre><code>[Unit]\nDescription=PDF to text back-end service\nAfter=network.target\n\n[Service]\nExecStart=/home/ubuntu/Pdf2t/index.js\nRestart=always\nUser=nobody\nGroup=nogroup\nEnvironment=PATH=/usr/bin:/usr/local/bin\nEnvironment=NODE_ENV=production\nWorkingDirectory=/home/ubuntu/Pdf2t\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>All help is appreciated</p>\n","userId":1,"threadId":939,"question_id":64875674,"isQuestion":true,"score":0},
{"body":"<p>The following example is from the svelte official docs.</p>\n<pre><code>&lt;script&gt;\n    async function getRandomNumber() {\n        const res = await fetch(`tutorial/random-number`);\n        const text = await res.text();\n        if (res.ok) {\n            return text;\n        } else {\n            throw new Error(text);\n        }\n    }\n    \n    let promise = getRandomNumber(); -------------- How does this work?\n\n    function handleClick() {\n        promise = getRandomNumber();\n    }\n&lt;/script&gt;\n\n&lt;button on:click={handleClick}&gt;\n    generate random number\n&lt;/button&gt;\n\n{#await promise}\n    &lt;p&gt;...waiting&lt;/p&gt;\n{:then number}\n    &lt;p&gt;The number is {number}&lt;/p&gt;\n{:catch error}\n    &lt;p style=&quot;color: red&quot;&gt;{error.message}&lt;/p&gt;\n{/await}\n</code></pre>\n<p>My question is, when we are assigning 'promise' to a function 'call' as done above, it is supposed to call the function immediately. In the svelte repl, this does not happen, and random number is generated only on button click. HOWEVER, when I modify the code to fetch json from a simple express server, I don't even need to click the button- the server is called on app startup. (which is what you would expect). What magic is going on?</p>\n<p>Although maybe not important, but here is the code I tried.</p>\n<pre><code>&lt;script&gt;\n        async function getNotes() {\n        const res = await fetch('http://localhost:3001/api/notes')\n        const json = await res.json()\n        \n        if(res.ok) {\n            return json;\n        } else {\n            throw new Error(res)\n        }\n        \n    }\n\n    let promise = getNotes();\n    \n     function onClickGetNotes() {\n        promise =  getNotes();\n    }\n\n&lt;/script&gt;\n\n\n\n&lt;div class=&quot;grid-item-container card&quot;&gt;\n\n  \n   &lt;button on:click={onClickGetNotes}&gt; Get Notes &lt;/button&gt;\n\n   {#await promise}\n       .. Loading notes\n   {:then notes} \n        \n   {#each notes as note (note.id)}\n       &lt;div class=&quot;grid-item-container card&quot;&gt;\n          &lt;p class=&quot;grid-item&quot;&gt; ID is {note.id} &lt;/p&gt;\n          &lt;p class=&quot;grid-item&quot;&gt; Content is {note.content} &lt;/p&gt;\n          &lt;lable class=&quot;grid-item&quot; for=&quot;important&quot;&gt; Important \n            &lt;input class=&quot;grid-item&quot; type=&quot;checkbox&quot; id=&quot;important&quot; checked={note.important}&gt;\n          &lt;/lable&gt;   \n       &lt;/div&gt;\n   {/each}\n    {:catch error}\n    &lt;p style=&quot;color: red&quot;&gt;{error.message}&lt;/p&gt;\n   {/await}\n\n&lt;/div&gt;\n</code></pre>\n<p>What is the best way to call the async function so that the json is only fetched on button click?</p>\n","userId":1,"threadId":940,"question_id":64875668,"isQuestion":true,"score":0},
{"body":"<p>I'm working on a Quiz project. It needs modification constants in javascript files.</p>\n<pre><code> const questions=[\n   {\n    q:'where is the capital of India',\n    options:['New Delhi','Kolkatta','Varanashi','Agra'],\n    answer:1\n   },\n   {\n    q:'Who is the Prime Minister of India',\n    options:['Amit Shah','Narendra Modi','Rahul Gandhi','None of the above'],\n    answer:2\n   },\n   {\n    q:'where is the capital of India',\n    options:['New Delhi','Kolkatta','Varanashi','Agra'],\n    answer:1\n   }\n]\n</code></pre>\n<p>But we need to add PHP on constant.</p>\n<p>Try this, but not working...</p>\n<pre><code>      const questions=[\n  {\n    q:'&lt;?php echo the_field(&quot;q_1&quot;); ?&gt;',\n    options:['(&lt;?php echo the_field(&quot;option_1&quot;); ?&gt;)','(&lt;?php echo the_field(&quot;option_2&quot;); ?&gt;)','(&lt;?php echo the_field(&quot;option_3&quot;); ?&gt;)','(&lt;?php echo the_field(&quot;option_4&quot;); ?&gt;)'],\n    answer:'&lt;?php echo the_field(&quot;answer_1&quot;); ?&gt;'\n   },\n   {\n    q:'&lt;?php echo the_field(&quot;q_2&quot;); ?&gt;',\n    options:['&lt;?php echo the_field(&quot;option_1_2&quot;); ?&gt;','&lt;?php echo the_field(&quot;option_2_2&quot;); ?&gt;','&lt;?php echo the_field(&quot;option_3_2&quot;); ?&gt;','&lt;?php echo the_field(&quot;option_4_2&quot;); ?&gt;'],\n    answer:'&lt;?php echo the_field(&quot;answer_2&quot;); ?&gt;'\n   },\n   {\n    q:'&lt;?php echo the_field(&quot;q_3&quot;); ?&gt;',\n    options:['&lt;?php echo the_field(&quot;option_1_3&quot;); ?&gt;','&lt;?php echo the_field(&quot;option_2_3&quot;); ?&gt;','&lt;?php echo the_field(&quot;option_3_3&quot;); ?&gt;','&lt;?php echo the_field(&quot;option_4_3&quot;); ?&gt;'],\n    answer:'&lt;?php echo the_field(&quot;answer_3&quot;); ?&gt;'\n   }\n]\n</code></pre>\n<p><a href=\"https://drive.google.com/file/d/1hkGZcBaVo3wLFrv2vcVmHhByW2PAeUlG/view\" rel=\"nofollow noreferrer\">Here is the full code</a></p>\n","userId":1,"threadId":941,"question_id":64875607,"isQuestion":true,"score":0},
{"body":"<p>I'm working with CRUD using PHP, but I do have this problem. I have a table with a column NAME, POSITION, EDIT button(to edit the data) and DELETE button(to delete the data).</p>\n<p>I found a problem that, after I clicked on EDIT button, and change the data, it doesn't save into the database or even my table also doesn't change anything. It shows the same data as before I clicked the EDIT button. I'm using several code to update data :-</p>\n<pre><code>    $id = $_POST['update_id'];\n    $name = $_POST['name'];\n    $position = $_POST['position'];\n</code></pre>\n<ol>\n<li><p><code>$query = &quot;UPDATE rvp1 SET name = '&quot;.$_POST['name'].&quot;', position = '&quot;.$_POST['position'].&quot;' WHERE id = '&quot;.$_POST['update_id'].&quot;' &quot;;</code></p>\n</li>\n<li><p><code> $query = &quot;UPDATE rvp1 SET name = '$name', position = 'position' WHERE id = '$id' &quot;;</code></p>\n</li>\n<li><p><code>$query = &quot;UPDATE rvp1 SET name = '&quot;.$_POST['name'].&quot;', position = '&quot;.$_POST['position'].&quot;' WHERE id = '&quot;.$_POST['id'].&quot;' &quot;;</code></p>\n</li>\n</ol>\n<p>all of that doesn't work <strong>BUT after i deleted WHERE condition</strong>  <code>WHERE id = '&quot;.$_POST['update_id'].&quot;'</code>,  <code>WHERE id = '$id'</code> and  <code>WHERE id = '&quot;.$_POST['id'].&quot;'</code>\nit works but it changed all the data in the table with the data that I just edited.</p>\n<p><strong>For example, the original data is</strong> :-</p>\n<p>| Name | Position |<br />\n| Jane | CEO      |<br />\n| Iryl | Client   |</p>\n<p>After I clicked EDIT button and enter new data for <em>Jane,CEO</em> with the new data (without WHERE id condition):-</p>\n<p>Name :James Position : Clerk</p>\n<p><strong>The result is</strong> :-<br />\n| Name | Position |<br />\n| James| Clerk    |<br />\n| James| Clerk    |</p>\n<p>where it changed all the data, did I messed up with the id ?</p>\n<p>this is the code for my modal to edit the new data :-</p>\n<pre><code>&lt;!-- Edit Modal HTML --&gt;\n      &lt;div class=&quot;modal fade&quot; id= &quot;editmodal&quot; tabindex = &quot;-1&quot; role = &quot;dialog&quot; aria-labelledby = &quot;exampleModalLabel&quot; aria-hidden = &quot;true&quot;&gt;\n        &lt;div class=&quot;modal-dialog&quot; role= &quot;document&quot;&gt;\n          &lt;div class=&quot;modal-content&quot;&gt;\n\n        &lt;form action=&quot;editp1.php&quot; method = &quot;post&quot; &gt;\n        \n      &lt;div class=&quot;modal-body&quot;&gt;\n\n          &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n          &lt;/button&gt;\n      &lt;br&gt;\n          &lt;input type=&quot;hidden&quot; name = &quot;update_id&quot; id = &quot;update_id&quot;&gt;\n\n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt; Name &lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name = &quot;name&quot; id=&quot;name&quot;  &gt;\n          &lt;/div&gt;\n\n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt; Position &lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name = &quot;position&quot; id=&quot;position&quot; &gt;\n          &lt;/div&gt;\n\n      &lt;/div&gt;\n\n      &lt;div class= &quot;modal-footer&quot;&gt;\n        &lt;button type=&quot;submit&quot; name=&quot;updatedata&quot; class=&quot;btn btn-primary&quot; &gt; Save &lt;/button&gt;\n      &lt;/div&gt;\n\n      &lt;/form&gt;\n\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n</code></pre>\n<p>This is the code to update the data :-</p>\n<pre><code>&lt;?php   \nif(isset($_POST['updatedata']))\n{\n    $connection = mysqli_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;&quot;);\n     $db = mysqli_select_db($connection, 'sretool');\n     \n    $id = $_POST['update_id'];\n\n    $name = $_POST['name'];\n    $position = $_POST['position'];\n\n    $query = &quot;UPDATE rvp1 SET name = '$name', position = 'position' WHERE id = '$id' &quot;;\n    \n  \n    $query_run = mysqli_query($connection,$query);\n\n    if($query_run)\n    {\n        echo '&lt;script&gt; alert(&quot;Data deleted&quot;); &lt;/script&gt;';\n        header(&quot;Location:p1t.php&quot;);\n    }\n    else\n    {\n        echo '&lt;script&gt; alert(&quot;Data not updated&quot;); &lt;/script&gt;';\n    }\n}\n\n?&gt;\n\n\n</code></pre>\n<p>javascript part that I used update_id :-</p>\n<pre><code>&lt;script&gt;\n  $(document).ready(function () {\n     $('.editbtn').on('click', function () {\n\n        $('#editmodal').modal('show');\n\n        $tr = $(this).closest('tr');\n\n        var data = $tr.children(&quot;td&quot;).map(function() {\n            return $(this).text();\n        }).get();\n\n        console.log(data);\n\n        $('#update_id').val(data[0]);\n        $('#name').val(data[1]);\n        $('#position').val(data[2]);\n    });\n  });\n\n&lt;/script&gt;\n</code></pre>\n<p>Main code which shows the table [NAME | POSITION | EDIT (BUTTON) | DELETE (BUTTON)]. Here, includes the editbtn class for EDIT button which I used in the javascript code too.</p>\n<pre><code>&lt;?php\n                $connection = mysqli_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;&quot;);\n                $db = mysqli_select_db($connection, 'sretool');\n                    \n                $query = &quot;SELECT * FROM rvp1&quot;;\n                $query_run = mysqli_query($connection, $query);\n               ?&gt;\n                &lt;table class=&quot;table table-striped table-hover&quot;&gt;\n                    &lt;thead&gt;\n                        &lt;tr&gt;\n                &lt;th&gt;\n                  &lt;span class=&quot;custom-checkbox&quot;&gt;\n                    &lt;input type=&quot;checkbox&quot; id=&quot;selectAll&quot;&gt;\n                    &lt;label for=&quot;selectAll&quot;&gt;&lt;/label&gt;\n                  &lt;/span&gt;\n                &lt;/th&gt;\n                            &lt;th scope = &quot;col&quot;&gt;Name&lt;/th&gt;\n                            &lt;th scope = &quot;col&quot;&gt;Position&lt;/th&gt;\n                            &lt;th scope = &quot;col&quot;&gt;&lt;/th&gt;\n                            &lt;th scope = &quot;col&quot;&gt;&lt;/th&gt;\n                        &lt;/tr&gt;\n                    &lt;/thead&gt;\n                    &lt;?php\n                          if($query_run)\n                          {\n                          foreach($query_run as $row)\n                          {\n                    ?&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                &lt;td&gt;\n                  &lt;span class=&quot;custom-checkbox&quot;&gt;\n                    &lt;input type=&quot;checkbox&quot; id=&quot;checkbox1&quot; name=&quot;options[]&quot; value=&quot;1&quot;&gt;\n                    &lt;label for=&quot;checkbox1&quot;&gt;&lt;/label&gt;\n                  &lt;/span&gt;\n                &lt;/td&gt;      \n\n                            &lt;div id = &quot;namee&quot;&gt;\n                              &lt;td&gt;  &lt;?php echo $row['name']; ?&gt; &lt;/td&gt;\n                            &lt;/div&gt;\n\n                            &lt;div id = &quot;positionn&quot;&gt;\n                               &lt;td&gt;  &lt;?php echo $row['position']; ?&gt;&lt;/td&gt; \n                            &lt;/div&gt;\n\n                            &lt;td&gt;\n                              &lt;form&gt;\n                                   &lt;th&gt; &lt;input type=&quot;button&quot; class=&quot;btn btn-success editbtn&quot; value=&quot;   EDIT   &quot;&gt; &lt;/th&gt;\n                              &lt;/form&gt;                \n\n                              &lt;form action=&quot;deletep1.php&quot; method=&quot;post&quot;&gt;\n                                  &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;&lt;?php echo $row['id'] ?&gt;&quot;&gt;\n                                  &lt;th&gt; &lt;input type=&quot;submit&quot; name=&quot;delete&quot; class=&quot;btn btn-danger&quot; value=&quot;DELETE&quot;&gt; &lt;/th&gt;\n                              &lt;/form&gt;\n                            &lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n\n                    &lt;?php          \n                            }\n                        }\n                        else\n                        {\n                            echo &quot;No record found..&quot;;\n                        }\n                    ?&gt;\n                &lt;/table&gt;\n</code></pre>\n<p>Please help me, thanks in advance :)</p>\n","userId":1,"threadId":943,"question_id":64875558,"isQuestion":true,"score":0},
{"body":"<p>I'm looking into a way to change a native JS function body, while making it not possible to see that it has been changed. Let's take an example with <code>document.hasFocus()</code>:</p>\n<pre><code>document.hasFocus = ()=&gt;true;\n</code></pre>\n<p>This method works well to spoof focus, but it can be easily detected that it was modified:</p>\n<pre><code>document.hasFocus.toString() // -&gt; &quot;()=&gt;true&quot;\n</code></pre>\n<p>Is there any way, in which I can modify such a function while making it impossible to see it has been tampered with?</p>\n","userId":1,"threadId":942,"question_id":64875581,"isQuestion":true,"score":0},
{"body":"<p><strong>Hi guys,\nCSGO server's server name, number of players, online player name and scores, protocol number, etc. how do i print things to json?</strong></p>\n","userId":1,"threadId":944,"question_id":64875550,"isQuestion":true,"score":0},
{"body":"<p>I'm looking for a way to automatically extract information from a web page, more specifically an online game (<a href=\"https://www.virtualregatta.com/fr/offshore-jeu/\" rel=\"nofollow noreferrer\">https://www.virtualregatta.com/fr/offshore-jeu/</a>).</p>\n<p>In the game, I want to extract/copy the position of the boat. With Mozilla and its debug tools, I used the network debugger and I saw an HTML POST request containing what I want.</p>\n<p>It seems that we receive as a response a json containing a structure with latitude/longitude.</p>\n<p>This is perfect to me, but I want a more user friendly way to get it and I would need advices. Problem is that I'm really a beginner in web development haha.</p>\n<ul>\n<li>Is it possible to do this using a script ? (But I suppose it will be complicated to first log into the game)</li>\n<li>Is it possible to create a basic Mozilla plugin which would be able to catch the request/response and copy the position to clipboard for me ?</li>\n<li>anything else ?</li>\n</ul>\n<p>EDIT:\nI've tried using a Mozilla plugin, and I achieved to add a listener on POST request. I see the request to get the boat information but I can't find a way to get the json response in JS.</p>\n<pre><code>function logURL(responseDetails) {\n    console.log(responseDetails);\n}\n\nbrowser.webRequest.onResponseStarted.addListener(\n    logURL,\n    {urls: [&quot;*://*.virtualregatta.com/getboatinfos&quot;]}\n);\n</code></pre>\n","userId":1,"threadId":945,"question_id":64875518,"isQuestion":true,"score":0},
{"body":"<p>I want to update a picture in my project.\nI have a &quot;Product&quot; collection, and it has &quot;sample&quot; field to save the picture URL.\nNow the URL is in the array.\n<a href=\"https://i.stack.imgur.com/JFBcQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFBcQ.png\" alt=\"enter image description here\" /></a>\nWhat I want to achieve is to update an array and show the new picture after I upload the new picture.</p>\n<p>But I got an error.</p>\n<blockquote>\n<p>Function FieldValue.arrayUnion() called with invalid data. Nested\narrays are not supported</p>\n</blockquote>\n<p>I tried console.log(this.product.samples). And the result has shown two arrays (the old picture array and the new picture array.).</p>\n<p><a href=\"https://i.stack.imgur.com/ZUqYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUqYk.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code.</p>\n<pre><code> &lt;template&gt;\n    &lt;div&gt;\n        &lt;div class=&quot;ml-5 mb-5 picture-size&quot;&gt;\n            &lt;span&gt;The pictures has to be up to 800px X 1000px&lt;/span&gt;\n        &lt;/div&gt;\n            &lt;b-row&gt;\n                 &lt;b-col md=&quot;6&quot; class=&quot;mx-auto&quot;&gt;\n                    &lt;p&gt;Sample picture&lt;/p&gt;\n                    &lt;img :src=&quot;product.samples&quot; alt=&quot;&quot; class=&quot;picture&quot;&gt;\n                    &lt;div class=&quot;upload mx-auto mt-5&quot;&gt;\n                        &lt;input type=&quot;file&quot;  name=&quot;imageStorefront&quot; @change=&quot;uploadSample&quot; id=&quot;file&quot; accept=&quot;image/*&quot;&gt;\n                            &lt;label for=&quot;file&quot; class=&quot;Upload-image&quot;&gt;\n                                Upload\n                            &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;d-flex justify-content-center m-3&quot;&gt;\n                        &lt;div v-if=&quot;showSample&quot;&gt;\n                            &lt;b-button class=&quot;loginbutton-color&quot; type=&quot;submit&quot;&gt;\n                                &lt;spring-spinner\n                                    :animation-duration=&quot;3000&quot;\n                                    :size=&quot;27&quot;\n                                    color=&quot;#ff1d5e&quot;\n                                    class=&quot;loading&quot;\n                                /&gt;\n                            &lt;/b-button&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/b-col&gt;\n            &lt;/b-row&gt;\n       \n        \n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport ErrorBar from '@/components/ErrorBar'\nimport { SpringSpinner } from 'epic-spinners'\nimport fireApp from '@/plugins/firebase'\nconst firebase = require(&quot;firebase&quot;);\nconst firestore = require(&quot;firestore&quot;);\nrequire(&quot;firebase/firestore&quot;);\nconst db = firebase.firestore();\n\n    export default {\n        name: &quot;FoodSample&quot;,\n        components: {\n            SpringSpinner\n        },\n        data() {\n      return {\n            product: {\n                samples: []\n            },\n            showSample: false,\n          }\n        },\n        created() {\n            let ref = db.collection('Product').doc(this.$route.params.id)\n            ref.onSnapshot(snapshot =&gt; {  //DocSnapshot\n                if (snapshot.exists) {\n                   this.product.samples = snapshot.data().sample\n                } else {\n                    console.log(&quot;No such document!&quot;);\n                }  \n            })\n        },\n        methods: {\n\n            uploadSample(e) {\n                if(e.target.files[0]) {\n                    this.show = true\n                    let file = e.target.files[0];\n                    var storageRef = fireApp.storage().ref('Sample/'+  '_'  + file.name);//uniquenameにする\n                    let uploadTask = storageRef.put(file);\n                    uploadTask.on('state_changed', (snapshot) =&gt; {\n                    }, (error) =&gt; {\n                        console.log(error)\n                    }, () =&gt; {\n                        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) =&gt; {\n                            this.product.samples.push(downloadURL)\n                        })\n                        .then(() =&gt; {\n                            this.submitSample()\n                        })\n                        .then(() =&gt; {\n                            console.log('finished')\n                        });\n                    });\n                }\n            },\n\n            submitSample() {\n                let ref = db.collection('Product').doc(this.$route.params.id)\n                \n                console.log(this.product.samples)\n                ref.get().then(snapshot =&gt; {  //DocSnapshot\n                    ref.update({\n                        sample: firebase.firestore.FieldValue.arrayUnion(this.product.samples)\n                    })\n                })\n            }\n\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n<p>How can I delete the old picture array and add the new picture array?</p>\n","userId":1,"threadId":946,"question_id":64875493,"isQuestion":true,"score":0},
{"body":"<p>I have an array</p>\n<pre><code>var array_1 = ['new', 'new', 'old' , 'black' , 'old'];\n</code></pre>\n<p>I want to remove all the duplicate items</p>\n<p>I want my array to look like this</p>\n<pre><code>var array_1 = ['new', 'old', 'black'];\n</code></pre>\n","userId":1,"threadId":947,"question_id":64875480,"isQuestion":true,"score":0},
{"body":"<p>I just want to know if is there some rxjs operator that can delay my observable to start emitting when my variable is set to true.</p>\n<p>Something like this on Angular:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>loading: boolean;\n\nconstructor () {\n  this.subscriptions.push(\n      this._messageService.loadMyEvent$.pipe(\n          // here the operator that emitts data when loading is set to true\n      ).subscribe(response =&gt; {\n          // load data\n          this.loadData();\n          this.loading = false;\n      })\n  );\n}\n\nngAfterViewInit(): void {\n    this.loading = true;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So with all of this I want to loadData() when loading is set to true, this means all my content is rendered (AfterViewInit). Thank you.</p>\n","userId":1,"threadId":948,"question_id":64875471,"isQuestion":true,"score":0},
{"body":"<p>I'm the author of <a href=\"https://github.com/vinissimus/next-translate/tree/1.0.0-experimental.8\" rel=\"nofollow noreferrer\">next-translate</a> library, and I'm working on an experimental version to which I get an <strong>error with React 16.14.0</strong> and I don't understand why it happens. <strong>Upgrading React to version 17 then it works fine</strong>, but I don't want to force everyone who uses the new version of my library to migrate their React version.</p>\n<p>I've created a reproducible error example:\n<a href=\"https://github.com/aralroca/next-translate-error-reproduction\" rel=\"nofollow noreferrer\">https://github.com/aralroca/next-translate-error-reproduction</a></p>\n<p>In order to reproduce this issue:</p>\n<ul>\n<li>Clone this repo</li>\n<li>Run <code>yarn &amp;&amp; yarn dev</code></li>\n<li>Open <code>localhost:3000</code></li>\n<li>Open devtools</li>\n</ul>\n<p><code>Error was not caught ReferenceError: exports is not defined</code></p>\n<p>And the prerelease code of my lib is here:</p>\n<ul>\n<li><a href=\"https://github.com/vinissimus/next-translate/tree/1.0.0-experimental.14\" rel=\"nofollow noreferrer\">https://github.com/vinissimus/next-translate/tree/1.0.0-experimental.14</a></li>\n</ul>\n<p><strong>tsconfig.json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;strict&quot;: false,\n    &quot;module&quot;: &quot;es6&quot;,\n    &quot;target&quot;: &quot;es5&quot;,\n    &quot;jsx&quot;: &quot;react&quot;,\n    &quot;removeComments&quot;: true,\n    &quot;moduleResolution&quot;: &quot;node&quot;,\n    &quot;esModuleInterop&quot;: true,\n    &quot;declaration&quot;: true,\n    &quot;lib&quot;: [&quot;esnext&quot;, &quot;dom&quot;],\n    &quot;allowJs&quot;: true,\n    &quot;forceConsistentCasingInFileNames&quot;: true,\n    &quot;outDir&quot;: &quot;./lib/esm&quot;\n  },\n  &quot;include&quot;: [&quot;./src&quot;]\n}\n</code></pre>\n<p><strong>tsconfig-cjs.json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;extends&quot;: &quot;./tsconfig.json&quot;,\n  &quot;compilerOptions&quot;: {\n    &quot;module&quot;: &quot;CommonJS&quot;,\n    &quot;outDir&quot;: &quot;./lib/cjs&quot;,\n    &quot;declaration&quot;: false\n  }\n}\n</code></pre>\n<p>And this is the package code:</p>\n<ul>\n<li><a href=\"https://www.runpkg.com/?next-translate@1.0.0-experimental.14\" rel=\"nofollow noreferrer\">https://www.runpkg.com/?next-translate@1.0.0-experimental.14</a></li>\n</ul>\n<p>If anyone knows where this error came from and can help me I would be very grateful! I've been trying to solve it for several days but I'm a little lost because I don't know why it's happening... Thanks!</p>\n<p><em>Note: Looks that it only happens in development, doing <code>yarn build &amp;&amp; yarn start</code> works fine.</em></p>\n","userId":1,"threadId":949,"question_id":64875443,"isQuestion":true,"score":0},
{"body":"<p>I have a problem with jquery. Have a project like Task List on the web.\nI trying to remove the product from in progress div and insert into complete div and vice versa.\nBut have a problem when I find an object via <code>.closest()</code> I unable to append some HTML div, but <code>.remove()</code> work correctly.</p>\n<p>How I can append some HTML else? or what wrong I do?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\n\n  $(\"input:checkbox\").change(function() {\n    var product_id = $(this).attr('id');\n    var complete = $(this).closest('#complete');\n    var progress = $(this).closest('#progress');\n    var prod = $(this).closest('#product');\n    //console.log(product_id);\n    var data = ' &lt;div id=\"product\" class=\"col-lg-3 no-gutter\"&gt;&lt;div class=\"custom-control form-control-lg custom-checkbox\"&gt;&lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"' + product_id + '\"&gt; &lt;label class=\"custom-control-label\" for=\"' + product_id + '\"&gt;&lt;/label&gt;&lt;/div&gt;';\n    if ($(this).is(\":checked\")) {\n      //data is already html product div\n      prod.remove();\n      complete.append(data);\n      //console.log('done check in');\n\n    } else {\n      prod.remove();\n      progress.append(data);\n      //console.log('done check OUT');\n    }\n  });\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div class=\"datess\"&gt;16-11-20\n  &lt;div id=\"progress\" class=\"in-progress\"&gt;In progress\n    &lt;div id=\"Marja\"&gt;\n      &lt;h4&gt;\n        &lt;p class=\"badge badge-secondary\"&gt;\n          Marja\n        &lt;/p&gt;\n      &lt;/h4&gt;\n      &lt;div id=\"product\" class=\"col-lg-3 no-gutter\"&gt;\n        product1\n        &lt;div class=\"custom-control form-control-lg custom-checkbox\"&gt;\n          &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"102\"&gt;\n          &lt;label class=\"custom-control-label\" for=\"102\"&gt;&lt;/label&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!--end product-info--&gt;\n  &lt;/div&gt;\n  &lt;!--e-co-product--&gt;\n  &lt;hr class=\"divider\"&gt;\n  &lt;div id=\"complete\" class=\"complete\"&gt;Сomplete\n    &lt;div id=\"Juh\"&gt;\n      &lt;h4&gt;\n        &lt;p class=\"badge badge-secondary\"&gt;\n          Juh\n        &lt;/p&gt;\n      &lt;/h4&gt;\n      &lt;div id=\"product\" class=\"col-lg-3 no-gutter\"&gt;\n        product2\n        &lt;div class=\"custom-control form-control-lg custom-checkbox\"&gt;\n          &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"103\" checked&gt;\n          &lt;label class=\"custom-control-label\" for=\"103\"&gt;&lt;/label&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!--end product-info--&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;!--product--&gt;\n&lt;hr class=\"divider\"&gt;\n&lt;hr class=\"divider\"&gt;\n&lt;div class=\"datess\"&gt;17-11-20\n  &lt;div id=\"progress\" class=\"in-progress\"&gt;In progress\n    &lt;div id=\"Marja\"&gt;\n      &lt;h4&gt;\n        &lt;p class=\"badge badge-secondary\"&gt;\n          Marja\n        &lt;/p&gt;\n      &lt;/h4&gt;\n      &lt;div id=\"product\" class=\"col-lg-3 no-gutter\"&gt;\n        product1\n        &lt;div class=\"custom-control form-control-lg custom-checkbox\"&gt;\n          &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"102\"&gt;\n          &lt;label class=\"custom-control-label\" for=\"102\"&gt;&lt;/label&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!--end product-info--&gt;\n  &lt;/div&gt;\n  &lt;!--e-co-product--&gt;\n  &lt;hr class=\"divider\"&gt;\n  &lt;div id=\"complete\" class=\"complete\"&gt;Сomplete\n    &lt;div id=\"Juh\"&gt;\n      &lt;h4&gt;\n        &lt;p class=\"badge badge-secondary\"&gt;\n          Juh\n        &lt;/p&gt;\n      &lt;/h4&gt;\n      &lt;div id=\"product\" class=\"col-lg-3 no-gutter\"&gt;\n        product2\n        &lt;div class=\"custom-control form-control-lg custom-checkbox\"&gt;\n          &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"103\" checked&gt;\n          &lt;label class=\"custom-control-label\" for=\"103\"&gt;&lt;/label&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!--end product-info--&gt;\n  &lt;/div&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n","userId":1,"threadId":950,"question_id":64875387,"isQuestion":true,"score":0},
{"body":"<p>Currently I'm using <code>replace(/\\s*([,.!?:;])[,.!?:;]*\\s*/g, '$1 ')</code> to add space after punctuation. But it doesn't work if the sentence contains three dots.</p>\n<p>Example text: &quot;Hello,today is a beautiful day...But tomorrow is,not.&quot;</p>\n<p>Expected output: &quot;Hello, today is a beautiful day... But tomorrow is, not.&quot;</p>\n<pre><code>let text = &quot;Hello,today is a beautiful day...But tomorrow is,not.&quot;;\ntext = text.replace(/\\s*([,.!?:;])[,.!?:;]*\\s*/g, '$1 ')\n</code></pre>\n<p>Gives:\n&quot;Hello, today is a beautiful day. But tomorrow is, not. &quot;</p>\n<p>Please tell me what regex I can use so that I can get the expected output.</p>\n","userId":1,"threadId":951,"question_id":64875364,"isQuestion":true,"score":0},
{"body":"<p>I would like to have in Fullcalendar (v3) in TimelineView options to see one day before today, with scroll (not arrows).\nThis means that view should start today-1day.\nHow to achieve this?</p>\n<p>I look at: scrollTime - but this scrolls timeline in future not in past...</p>\n","userId":1,"threadId":952,"question_id":64875296,"isQuestion":true,"score":0},
{"body":"<p>I am using datatables example: <a href=\"https://datatables.net/extensions/select/examples/initialisation/checkbox.html\" rel=\"nofollow noreferrer\">https://datatables.net/extensions/select/examples/initialisation/checkbox.html</a> to select multiple rows using checkboxes. This is working fine. I can select multiple rows holding the Ctrl key. The bottom of the table displays the number of rows selected. The issue I am having is I want to stop the user from selecting more than 5 rows. How can I tweak the JQUERY to limit to maximum 5 rows selected and then it prevents the user from selecting anymore unless they de-select a row?</p>\n<pre><code>var table = $('#tabledt').DataTable({\n    columnDefs: [{\n        orderable: false,\n        className: 'select-checkbox',\n        targets: 0\n    }],\n    select: {\n        style: 'os',\n        selector: 'td:first-child'\n        \n    },\n    order: [[1, 'asc']]\n});\n</code></pre>\n","userId":1,"threadId":953,"question_id":64875275,"isQuestion":true,"score":0},
{"body":"<p>I'm trying to scrape a website where a log-in is needed and a java Script is running.</p>\n<p>I'm able to log in using HTMLSession from requests_html. But the problem is, I didn't find a way to execute the java script. So I tried using dryscrape which works fine for the Java srcipt except session.post() is not working for the dryscrape module, so I can't log in.</p>\n<p>So next step is I need a general idea on how to combine either those two session, or a module that combines both: The log in and the java script.</p>\n<p>Does anyone of you have an idea, how I can do this!</p>\n<p>Greetings\nSebastian</p>\n","userId":1,"threadId":954,"question_id":64875274,"isQuestion":true,"score":0},
{"body":"<p>I'm trying to add a material ui select component to the React application I'm working with. When I try to add a select functionality to a form, it crashes. Despite using the exact example <a href=\"https://material-ui.com/components/selects/\" rel=\"nofollow noreferrer\">from the docs</a>, I get the same error and application crashes.</p>\n<p>So far I've tried:</p>\n<ul>\n<li>Tinkering with ids</li>\n<li>Removing &amp; changing various props to see if I can pin down a specific point that's causing the error (no luck)</li>\n<li>Made sure <code>value</code> prop is an empty string, with a child matching <code>MenuItem</code>(no luck)</li>\n<li>Set a <code>defaultValue</code> prop (no luck)</li>\n<li>Removing other components to make sure the problem is centered on <code>&lt;Select&gt;</code> component (it is centered on <code>Select</code>. <code>FormControl</code> and <code>InputLabel</code> do not cause a crash)</li>\n<li>Created a new route that only contains the example <code>SimpleSelect</code> component from <a href=\"https://material-ui.com/components/selects/\" rel=\"nofollow noreferrer\">from the docs</a> (Still crashing, and this component is right below App component so nothing should be effecting it upstream)</li>\n<li>Made sure <code>@material-ui/core</code> is up-to-date (4.11.0)</li>\n<li>Removed node_modules and reinstalled everything</li>\n<li>Scoured the web for other issues such as this, but haven't found anything</li>\n</ul>\n<p>Error logs on the console are also generally cryptic:</p>\n<pre><code>The above error occurred in the &lt;data:application/javascript;charset=utf-8;base64,aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgY3JlYXRlU3ZnSWNvbiBmcm9tICcuLi8uLi91dGlscy9jcmVhdGVTdmdJY29uJzsKLyoqCiAqIEBpZ25vcmUgLSBpbnRlcm5hbCBjb21wb25lbnQuCiAqLwoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3ZnSWNvbiggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInBhdGgiLCB7CiAgZDogIk03IDEwbDUgNSA1LTV6Igp9KSwgJ0Fycm93RHJvcERvd24nKTs=&gt; component:\n    in data:application/javascript;charset=utf-8;base64,aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgY3JlYXRlU3ZnSWNvbiBmcm9tICcuLi8uLi91dGlscy9jcmVhdGVTdmdJY29uJzsKLyoqCiAqIEBpZ25vcmUgLSBpbnRlcm5hbCBjb21wb25lbnQuCiAqLwoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3ZnSWNvbiggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInBhdGgiLCB7CiAgZDogIk03IDEwbDUgNSA1LTV6Igp9KSwgJ0Fycm93RHJvcERvd24nKTs= (created by ForwardRef(SelectInput))\n    in ForwardRef(SelectInput) (created by ForwardRef(InputBase))\n    in div (created by ForwardRef(InputBase))\n    in ForwardRef(InputBase) (created by WithStyles(ForwardRef(InputBase)))\n    in WithStyles(ForwardRef(InputBase)) (created by ForwardRef(FilledInput))\n    in ForwardRef(FilledInput) (created by WithStyles(ForwardRef(FilledInput)))\n    in WithStyles(ForwardRef(FilledInput)) (created by ForwardRef(Select))\n    in ForwardRef(Select) (created by WithStyles(ForwardRef(Select)))\n    in WithStyles(ForwardRef(Select)) (created by SimpleSelect)\n    in div (created by ForwardRef(FormControl))\n    in ForwardRef(FormControl) (created by WithStyles(ForwardRef(FormControl)))\n    in WithStyles(ForwardRef(FormControl)) (created by SimpleSelect)\n    in div (created by SimpleSelect)\n    in SimpleSelect (created by Context.Consumer)\n    in Route (created by App)\n    in Switch (created by App)\n    in ThemeProvider (created by App)\n    in App\n    in Router (created by BrowserRouter)\n    in BrowserRouter\n\nConsider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/docs/error-boundaries.html to learn more about error boundaries.\n</code></pre>\n<p>and <code>Uncaught DOMException: String contains an invalid character</code>.</p>\n<p>This is the component that generates this same error(exact copy from the docs):</p>\n<pre><code>import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nconst useStyles = makeStyles((theme) =&gt; ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport default function SimpleSelect() {\n  const classes = useStyles();\n  const [age, setAge] = React.useState('');\n\n  const handleChange = (event) =&gt; {\n    setAge(event.target.value);\n  };\n\n  return (\n    &lt;div&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-label&quot;&gt;Age&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-label&quot;\n          id=&quot;demo-simple-select&quot;\n          value={age}\n          onChange={handleChange}\n        &gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-helper-label&quot;&gt;Age&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-helper-label&quot;\n          id=&quot;demo-simple-select-helper&quot;\n          value={age}\n          onChange={handleChange}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Some important helper text&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;Select\n          value={age}\n          onChange={handleChange}\n          displayEmpty\n          className={classes.selectEmpty}\n          inputProps={{ 'aria-label': 'Without label' }}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Without label&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;InputLabel shrink id=&quot;demo-simple-select-placeholder-label-label&quot;&gt;\n          Age\n        &lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-placeholder-label-label&quot;\n          id=&quot;demo-simple-select-placeholder-label&quot;\n          value={age}\n          onChange={handleChange}\n          displayEmpty\n          className={classes.selectEmpty}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Label + placeholder&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl} disabled&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-disabled-label&quot;&gt;Name&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-disabled-label&quot;\n          id=&quot;demo-simple-select-disabled&quot;\n          value={age}\n          onChange={handleChange}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Disabled&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl} error&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-error-label&quot;&gt;Name&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-error-label&quot;\n          id=&quot;demo-simple-select-error&quot;\n          value={age}\n          onChange={handleChange}\n          renderValue={(value) =&gt; `⚠️  - ${value}`}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Error&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-readonly-label&quot;&gt;Name&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-readonly-label&quot;\n          id=&quot;demo-simple-select-readonly&quot;\n          value={age}\n          onChange={handleChange}\n          inputProps={{ readOnly: true }}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Read only&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-autowidth-label&quot;&gt;Age&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-autowidth-label&quot;\n          id=&quot;demo-simple-select-autowidth&quot;\n          value={age}\n          onChange={handleChange}\n          autoWidth\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Auto width&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;Select\n          value={age}\n          onChange={handleChange}\n          displayEmpty\n          className={classes.selectEmpty}\n          inputProps={{ 'aria-label': 'Without label' }}\n        &gt;\n          &lt;MenuItem value=&quot;&quot; disabled&gt;\n            Placeholder\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Placeholder&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl required className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-required-label&quot;&gt;Age&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-required-label&quot;\n          id=&quot;demo-simple-select-required&quot;\n          value={age}\n          onChange={handleChange}\n          className={classes.selectEmpty}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n        &lt;FormHelperText&gt;Required&lt;/FormHelperText&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl variant=&quot;outlined&quot; className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-outlined-label&quot;&gt;Age&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-outlined-label&quot;\n          id=&quot;demo-simple-select-outlined&quot;\n          value={age}\n          onChange={handleChange}\n          label=&quot;Age&quot;\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n      &lt;/FormControl&gt;\n      &lt;FormControl variant=&quot;filled&quot; className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-filled-label&quot;&gt;Age&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-filled-label&quot;\n          id=&quot;demo-simple-select-filled&quot;\n          value={age}\n          onChange={handleChange}\n        &gt;\n          &lt;MenuItem value=&quot;&quot;&gt;\n            &lt;em&gt;None&lt;/em&gt;\n          &lt;/MenuItem&gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n      &lt;/FormControl&gt;\n    &lt;/div&gt;\n  );\n}\n\n</code></pre>\n<p>This might potentially be a build chain related issue, so here is my webpack config:</p>\n<pre><code>const webpack = require(&quot;webpack&quot;);\nconst path = require(&quot;path&quot;);\nconst HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);\nconst { CleanWebpackPlugin } = require(&quot;clean-webpack-plugin&quot;);\nconst CopyWebpackPlugin = require(&quot;copy-webpack-plugin&quot;);\nconst { BundleAnalyzerPlugin } = require(&quot;webpack-bundle-analyzer&quot;);\n\nconst isProd = process.env.NODE_ENV === &quot;production&quot;;\nconst buildDir = &quot;dist&quot;;\nconst useBundleAnalyzer = false;\nconst chalk = require(&quot;chalk&quot;);\nconst version = JSON.stringify(require(&quot;./package.json&quot;).version);\nconst author = JSON.stringify(require(&quot;./package.json&quot;).author);\n\nconsole.log(\n  chalk.white.bgBlue.bold(`\n-------------------------------------------------------------------------\n            Application Front End\n            Version: ${version}\n            running: ${process.env.NODE_ENV}\n            by: ${author}\n-------------------------------------------------------------------------\n`)\n);\n\nmodule.exports = {\n  entry: {\n    main: &quot;./src/root.jsx&quot;,\n  },\n  mode: process.env.NODE_ENV !== &quot;production&quot; ? &quot;development&quot; : &quot;production&quot;,\n  optimization: {\n    splitChunks: {\n      chunks: &quot;async&quot;,\n      minSize: 30000,\n      minChunks: 1,\n      maxAsyncRequests: 5,\n      maxInitialRequests: 3,\n      automaticNameDelimiter: &quot;~&quot;,\n      name: true,\n      cacheGroups: {\n        vendors: {\n          test: /[\\\\/]node_modules[\\\\/]/,\n          priority: -10,\n        },\n        default: {\n          minChunks: 2,\n          priority: -20,\n          reuseExistingChunk: true,\n        },\n      },\n    },\n  },\n  output: {\n    path: path.join(__dirname, buildDir),\n    filename: &quot;[name].[hash].js&quot;,\n    chunkFilename: &quot;[name].[id].[hash].chunk.js&quot;,\n    publicPath: &quot;/&quot;,\n  },\n  resolve: {\n    modules: [path.join(__dirname, &quot;./src&quot;), &quot;node_modules&quot;],\n    extensions: [&quot;.js&quot;, &quot;.jsx&quot;],\n  },\n  devServer: {\n    hot: false,\n    disableHostCheck: true,\n    inline: true,\n    contentBase: path.join(&quot;./&quot;, buildDir),\n    historyApiFallback: true,\n    headers: {\n      &quot;Access-Control-Allow-Origin&{"body":"<p>I want to be able to save my HTML2canvas map screenshot offline. Unfortunately, I am getting the console error:</p>\n<p><strong>Uncaught TypeError: html2canvas(...).then is not a function\nat makeScreenshot (index.html:143)\nat HTMLAnchorElement. (index.html:155)</strong></p>\n<p>Now, my code, which I picked up from here:</p>\n<p><a href=\"https://retifrav.github.io/blog/2018/07/23/html-js-screenshot/\" rel=\"nofollow noreferrer\">https://retifrav.github.io/blog/2018/07/23/html-js-screenshot/</a></p>\n<p>looks like this:</p>\n<pre><code>  &lt;script&gt;\n    function makeScreenshot()\n   {\n    html2canvas(document.getElementById(&quot;screenshot&quot;), {scale: 2}).then(canvas =&gt;\n    {\n        canvas.id = &quot;canvasID&quot;;\n        var main = document.getElementById(&quot;main&quot;);\n        while (main.firstChild) { main.removeChild(main.firstChild); }\n        main.appendChild(canvas);\n    });\n  }\n\n document.getElementById(&quot;a-make&quot;).addEventListener('click', function()\n {\n    document.getElementById(&quot;a-make&quot;).style.display = &quot;none&quot;;\n    makeScreenshot();\n    document.getElementById(&quot;a-download&quot;).style.display = &quot;inline&quot;;\n  }, false);\n\n  document.getElementById(&quot;a-download&quot;).addEventListener('click', function()\n  {\n    this.href = document.getElementById(&quot;canvasID&quot;).toDataURL();\n    this.download = &quot;canvas-image.png&quot;;\n  }, false);\n    &lt;/script&gt;\n</code></pre>\n<p>and in HTML body...</p>\n<pre><code>       &lt;/div&gt;\n       &lt;div id=&quot;map&quot;&gt;\n       &lt;div id=&quot;screenshot&quot;&gt;\n        &lt;div id=&quot;popup&quot; class=&quot;ol-popup&quot;&gt;\n            &lt;a href=&quot;#&quot; id=&quot;popup-closer&quot; class=&quot;ol-popup-closer&quot;&gt;&lt;/a&gt;\n            &lt;div id=&quot;popup-content&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;a id=&quot;a-make&quot; href=&quot;#&quot;&gt;Make a screenshot&lt;/a&gt;\n        &lt;a id=&quot;a-download&quot; href=&quot;#&quot; style=&quot;display:none;&quot;&gt;Download a screenshot&lt;/a&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>The file html2canvas.js has been attached</p>\n<pre><code>      &lt;script type=&quot;text/javascript&quot; src=&quot;resources/html2canvas.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/76p0H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76p0H.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know where the problem can be?\nI would like to make a screenshot offline</p>\n\n","userId":1,"threadId":956,"question_id":64875245,"isQuestion":true,"score":0},
{"body":"<p>There is an existing application that uses <code>JQuery</code> on the front end and NodeJs in back end.\nI thought to turn it into a Reactjs based application(i.e transform front end) but couldn't turn the entire application in one go. It is a huge application so I decided to do it feature by feature i.e transform one feature from the existing JQuery format to React until the entire application is transformed.</p>\n<p>Entire existing applications run on same url(say http://localhost:8080) i.e no restful routing at all(i.e on going through various sections of the application,url remain same).And we render ejs files and use JQuery to interact with DOM. There is server side file app.js which uses express server to handle routing and other stuff. So the entire application runs on port 8080 using command node app.js.</p>\n<p>It can be done by building React application(via npm run build to generate html file) and render it accordingly but building takes time so every time I don't want to build then run into to some error or modification then rebuild it so best way is to run reactjs seperately on different port and then proceed.So now Reactjs run on port 3000(i.e http://localhost:3000) using npm start.There is a client side routing using browser router in react application.It is created using create-react-app.</p>\n<p>Now so what would a neater approach is that on hitting http://localhost:8080 it goes to existing application and on hitting http://localhost:8080/react/feature1 we got to feature1 on react application on hitting http://localhost:8080/react/feature2 we got to feature2 and so on where for instance feature1 could be SignUp feature2 could be SingIn so we are basically also converting the application into a restful one.</p>\n<p><a href=\"https://stackoverflow.com/questions/51467096/how-to-redirect-to-react-js-application-using-node-js-in-same-server\">There is approach mentioned in this question which uses http-proxy</a></p>\n<p>So we can add in app.js something like</p>\n<pre><code>const httpProxy = require('http-proxy');\nconst proxy = httpProxy.createServer({});\n\napp.get('/react/:routeKey', (req, res) =&gt; {\n  proxy.web(req, res, { target: 'http://localhost:3000/'+req.params.routeKey });\n});\n</code></pre>\n<p>We cannot use res.redirect as it will change the url to http://localhost:3000 so to maintain the url http://localhost:8080 http-proxy is needed.Same url is necessary for access management.</p>\n<p>Now the real problem is that once we are redirected to react application(http://localhost:8080/react/somefeature) index.html of react application ask for bunch of static files in script tag like static/js/bundle.js,static/js/main.chunk.js etc.These files are created at runtime I suppose and thus went missing if we use npm start.\n<a href=\"https://stackoverflow.com/questions/59620477/how-to-properly-serve-the-create-react-app-index-from-the-server\">One possible solution can be found in 1st answer to this question using patch-package</a></p>\n<p>But couldn't able to come up with a solution.Have read couple of more answers but they doesn't resolve this issue.I don't have any background in webpack etc just simply using create-react-app.Patch-package solution will be much better considering it is created using create-react-app.</p>\n<p>There could be many more approach to do so but if this is answered it will make things easy for me.</p>\n<p>Thanks in advance.....</p>\n","userId":1,"threadId":957,"question_id":64875241,"isQuestion":true,"score":0},
{"body":"<p>I'm trying to change the value of an object property nested in an array nested inside an object using useState.</p>\n<p>State is set as follows:</p>\n<pre><code>  const [groupState, setGroupState] = useState({\n    groupId: uuidv4(),\n    content: [{ rowId: uuidv4(), field: '', from: '', to: '' }],\n  });\n</code></pre>\n<p>I'm trying to change the value of the 'field' property. If I add an entire 'dummy' object with the required value in the required property then it works:</p>\n<pre><code>setGroupState({\n  ...groupState,\n  content: groupState.content.map((item) =&gt; {\n    if (item.rowId === rowId) {\n      return (item = { rowId: uuidv4(), field: value, from: '', to: '' });\n    }\n  }),\n});\n</code></pre>\n<p>However, I need to just update the specific property value, not the whole object. My latest effort is the following:</p>\n<pre><code>setGroupState({\n  ...groupState,\n  content: groupState.content.map((item) =&gt; {\n    if (item.rowId === rowId) {\n      return (item.field = value);\n    }\n  }),\n});\n</code></pre>\n<p>Which returns the error: &quot;Cannot create property 'field' on string 'user'&quot; - I'm doing somethign wrong but I can't work out what.</p>\n","userId":1,"threadId":958,"question_id":64875231,"isQuestion":true,"score":0},
{"body":"<p>I want to remove an index in an array inside a bigger arrays;\nfor example:</p>\n<pre><code> let myArray = [\n  [{general : true, name: 'a' },{general : true, name: 'b' },{general : false, name: 'c' }],\n  [{general : false, name: 'd' },{general : true, name: 'e' },{general : false, name: 'f'}],\n  [{general : true, name: 'i' },{general : false, name: 'h' },{general : false, name: 'g' }]\n]\n</code></pre>\n<p>I want to remove all objects with <code>general == false</code> to get this:</p>\n<pre><code>myFilteredArray = [\n      [{general : true, name: 'a' },{general : true, name: 'b' }],\n      [{general : true, name: 'e' }],\n      [{general : true, name: 'i' }]\n    ]\n</code></pre>\n<p>I did this but it doesn't work:</p>\n<pre><code>let l = myArray.length;\n      for (let i = 0; i &lt; l; i++) {\n        for (let j = 0; j &lt; myArray[i].length; j++) {\n          if(!myArray[i][j].general){\n            myArray[i].splice(j,1)\n          }\n        }\n      }\n</code></pre>\n<p>thanks in advance.</p>\n","userId":1,"threadId":959,"question_id":64875189,"isQuestion":true,"score":0},
quot;: &quot;*&quot;,\n      &quot;Access-Control-Allow-Credentials&quot;: &quot;true&quot;,\n      &quot;Access-Control-Allow-Headers&quot;: &quot;true&quot;,\n    },\n  },\n  devtool: process.env.NODE_ENV === &quot;development&quot; ? &quot;inline-source-map&quot; : &quot;&quot;,\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        exclude: /(node_modules)/,\n        loader: &quot;babel-loader&quot;,\n        query: {\n          presets: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;],\n        },\n      },\n      {\n        test: /\\.css$|\\.scss$|\\.sass$/,\n        loaders: [\n          &quot;style-loader&quot;,\n          &quot;css-loader&quot;,\n          &quot;resolve-url-loader&quot;,\n          &quot;sass-loader&quot;,\n        ],\n      },\n      {\n        test: /.(png|woff(2)?|eot|ttf|svg)/,\n        loader: &quot;url-loader?limit=100000&quot;,\n      },\n    ],\n  },\n  plugins: [\n    ...(isProd ? [new CleanWebpackPlugin({ verbose: true })] : []),\n    /**\n     * Show visualization of webpack bundle.\n     */\n    ...(useBundleAnalyzer ? [new BundleAnalyzerPlugin()] : []),\n    new webpack.DefinePlugin({\n      &quot;process.env.NODE_ENV&quot;: JSON.stringify(process.env.NODE_ENV),\n      VERSION: version,\n    }),\n    new HtmlWebpackPlugin({\n      template: path.join(__dirname, &quot;./src/html/index.html&quot;),\n      filename: &quot;index.html&quot;,\n      inject: &quot;body&quot;,\n    }),\n  ],\n};\n\n</code></pre>\n<p>Has anyone ever encountered a similar problem? This problem stopped me dead in my tracks and is causing me a lot of frustration.</p>\n<p>Edit: Icons are not the problem. Same thing is happening at below component as well:</p>\n<pre><code>import React from &quot;react&quot;;\nimport { makeStyles } from &quot;@material-ui/core/styles&quot;;\nimport InputLabel from &quot;@material-ui/core/InputLabel&quot;;\nimport MenuItem from &quot;@material-ui/core/MenuItem&quot;;\nimport FormControl from &quot;@material-ui/core/FormControl&quot;;\nimport Select from &quot;@material-ui/core/Select&quot;;\n\nconst useStyles = makeStyles(theme =&gt; ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport default function SimpleSelect2() {\n  const classes = useStyles();\n\n  return (\n    &lt;div&gt;\n      &lt;FormControl className={classes.formControl}&gt;\n        &lt;InputLabel id=&quot;demo-simple-select-label&quot;&gt;Age&lt;/InputLabel&gt;\n        &lt;Select\n          labelId=&quot;demo-simple-select-label&quot;\n          id=&quot;demo-simple-select&quot;\n          value={10}\n          onChange={event =&gt; console.log(event)}\n        &gt;\n          &lt;MenuItem value={10}&gt;Ten&lt;/MenuItem&gt;\n          &lt;MenuItem value={20}&gt;Twenty&lt;/MenuItem&gt;\n          &lt;MenuItem value={30}&gt;Thirty&lt;/MenuItem&gt;\n        &lt;/Select&gt;\n      &lt;/FormControl&gt;\n    &lt;/div&gt;\n  );\n}\n\n</code></pre>\n<p>Edit-2:</p>\n<p>This is the DOM after the crash:</p>\n<p><a href=\"https://i.stack.imgur.com/0FUBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0FUBy.png\" alt=\"dom-after-crash\" /></a></p>\n<p>Edit-3:</p>\n<p>More descriptive error message at Chrome:</p>\n<p><a href=\"https://i.stack.imgur.com/7YKxd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YKxd.png\" alt=\"error-message-chrome\" /></a></p>\n","userId":1,"threadId":955,"question_id":64875253,"isQuestion":true,"score":0},
